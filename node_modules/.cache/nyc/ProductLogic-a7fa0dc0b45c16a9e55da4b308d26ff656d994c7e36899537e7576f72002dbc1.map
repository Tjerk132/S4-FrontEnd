{"version":3,"sources":["ProductLogic.js"],"names":["addToShoppingCart","newProduct","cartItems","checkExistingBasket","existsInBasket","removeFromShoppingCart","productToBeRemoved","i","length","cartItem","product","id","quantity","index","indexOf","splice","products","calculateBasketCosts","totalCosts","forEach","price","toFixed","getProductIds","productIds","push","getTotalQuantity","totalQuantity","p","exists","item","ShoppingCartItem"],"mappings":"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","sourceRoot":"C:\\Users\\Tjerk_2\\Desktop\\S4 - Vue FrontEnd\\logic\\","sourcesContent":["import ShoppingCartItem from'@/models/ShoppingCartitem.js';\r\n\r\nfunction addToShoppingCart(newProduct, cartItems) {\r\n    \r\n    cartItems = checkExistingBasket(cartItems);\r\n\r\n    cartItems = existsInBasket(newProduct, cartItems);\r\n\r\n    return cartItems;\r\n} \r\n\r\nfunction removeFromShoppingCart(productToBeRemoved, cartItems) {\r\n    \r\n    cartItems = checkExistingBasket(cartItems);\r\n    //remove product from shopping cart\r\n    for(let i = 0; i < cartItems.length; i++) {\r\n        let cartItem = cartItems[i];\r\n        let product = cartItem.product;\r\n\r\n        if(product.id == productToBeRemoved.id) {\r\n            if(cartItem.quantity > 0) {\r\n                //lower quantity for chosen product\r\n                cartItem.quantity--;\r\n            }\r\n            if(cartItem.quantity == 0) {\r\n                //remove cartItem completely\r\n                let index = cartItems.indexOf(cartItem);\r\n                cartItems.splice(index, 1);\r\n            }\r\n        }  \r\n    \r\n    }\r\n    return cartItems;\r\n}\r\n\r\nfunction checkExistingBasket(products) {\r\n    //create new basket if user doesn't have one  \r\n    return products == null ? [] : products;\r\n}\r\n\r\nfunction calculateBasketCosts(cartItems) {\r\n    let totalCosts = 0;\r\n    cartItems.forEach(cartItem => {\r\n        for(let i = 0; i < cartItem.quantity; i++) {\r\n\r\n            let product = cartItem.product;\r\n            totalCosts += product.price;\r\n        }\r\n    });\r\n    return totalCosts.toFixed(2);\r\n}\r\n\r\nfunction getProductIds(cartItems) {\r\n\r\n    let productIds = [];\r\n\r\n    if(cartItems.length) {\r\n        cartItems.forEach(cartItem => {\r\n            \r\n            let product = cartItem.product;\r\n            for(let i = 0; i < cartItem.quantity; i++) {\r\n                //add each product individually\r\n                productIds.push(product.id);\r\n            }\r\n        });\r\n        return productIds;\r\n    }\r\n    else return [];\r\n}\r\n\r\nfunction getTotalQuantity(cartItems) {\r\n    let totalQuantity = 0;\r\n    cartItems.forEach(cartItem => {\r\n        totalQuantity += cartItem.quantity;\r\n    });\r\n    return totalQuantity;\r\n}\r\n\r\nfunction existsInBasket(p, cartItems) {\r\n    let exists = false;\r\n    cartItems.forEach(item => {\r\n        let product = item.product;\r\n        if(p.id == product.id) {\r\n            item.quantity++;\r\n            exists = true;\r\n            return cartItems;\r\n        }\r\n    }); \r\n    //still gets triggered otherwise somehow\r\n    if(!exists) {\r\n        cartItems.push(new ShoppingCartItem(p, 1));\r\n        return cartItems;\r\n    }\r\n    else return cartItems;\r\n}\r\n\r\nexport default {\r\n    addToShoppingCart,\r\n    removeFromShoppingCart,\r\n    checkExistingBasket,\r\n    calculateBasketCosts,\r\n    getProductIds,\r\n    getTotalQuantity,\r\n    existsInBasket,\r\n}"]}