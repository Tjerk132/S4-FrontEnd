"use strict";function cov_23gaygbfoz(){var path="C:\\Users\\Tjerk_2\\Desktop\\S4 - Vue FrontEnd\\logic\\ProductLogic.js";var hash="96bb416565055f641dfad2e3a5db8811f312a587";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\Tjerk_2\\Desktop\\S4 - Vue FrontEnd\\logic\\ProductLogic.js",statementMap:{"0":{start:{line:3,column:0},end:{line:5,column:3}},"1":{start:{line:6,column:0},end:{line:6,column:28}},"2":{start:{line:8,column:18},end:{line:8,column:74}},"3":{start:{line:10,column:24},end:{line:10,column:88}},"4":{start:{line:12,column:21},end:{line:12,column:74}},"5":{start:{line:14,column:39},end:{line:14,column:95}},"6":{start:{line:16,column:77},end:{line:16,column:175}},"7":{start:{line:16,column:94},end:{line:16,column:107}},"8":{start:{line:16,column:121},end:{line:16,column:131}},"9":{start:{line:16,column:151},end:{line:16,column:165}},"10":{start:{line:16,column:166},end:{line:16,column:173}},"11":{start:{line:16,column:176},end:{line:16,column:263}},"12":{start:{line:16,column:193},end:{line:16,column:208}},"13":{start:{line:16,column:218},end:{line:16,column:261}},"14":{start:{line:18,column:33},end:{line:18,column:387}},"15":{start:{line:18,column:65},end:{line:18,column:69}},"16":{start:{line:18,column:78},end:{line:18,column:87}},"17":{start:{line:18,column:89},end:{line:18,column:384}},"18":{start:{line:18,column:147},end:{line:18,column:167}},"19":{start:{line:18,column:193},end:{line:18,column:264}},"20":{start:{line:18,column:290},end:{line:18,column:360}},"21":{start:{line:18,column:363},end:{line:18,column:380}},"22":{start:{line:20,column:50},end:{line:20,column:151}},"23":{start:{line:20,column:92},end:{line:20,column:149}},"24":{start:{line:22,column:44},end:{line:22,column:315}},"25":{start:{line:22,column:57},end:{line:22,column:58}},"26":{start:{line:22,column:102},end:{line:22,column:110}},"27":{start:{line:22,column:112},end:{line:22,column:167}},"28":{start:{line:22,column:168},end:{line:22,column:199}},"29":{start:{line:22,column:200},end:{line:22,column:254}},"30":{start:{line:22,column:227},end:{line:22,column:254}},"31":{start:{line:22,column:255},end:{line:22,column:313}},"32":{start:{line:24,column:62},end:{line:24,column:131}},"33":{start:{line:24,column:78},end:{line:24,column:131}},"34":{start:{line:24,column:132},end:{line:24,column:193}},"35":{start:{line:24,column:149},end:{line:24,column:193}},"36":{start:{line:24,column:194},end:{line:24,column:213}},"37":{start:{line:26,column:32},end:{line:353,column:3}},"38":{start:{line:28,column:4},end:{line:28,column:40}},"39":{start:{line:30,column:4},end:{line:30,column:51}},"40":{start:{line:31,column:4},end:{line:31,column:57}},"41":{start:{line:34,column:2},end:{line:350,column:6}},"42":{start:{line:37,column:6},end:{line:37,column:54}},"43":{start:{line:38,column:6},end:{line:38,column:61}},"44":{start:{line:39,column:6},end:{line:39,column:23}},"45":{start:{line:44,column:6},end:{line:44,column:54}},"46":{start:{line:46,column:6},end:{line:62,column:7}},"47":{start:{line:46,column:19},end:{line:46,column:20}},"48":{start:{line:47,column:23},end:{line:47,column:35}},"49":{start:{line:48,column:22},end:{line:48,column:38}},"50":{start:{line:50,column:8},end:{line:61,column:9}},"51":{start:{line:51,column:10},end:{line:54,column:11}},"52":{start:{line:53,column:12},end:{line:53,column:32}},"53":{start:{line:56,column:10},end:{line:60,column:11}},"54":{start:{line:58,column:24},end:{line:58,column:51}},"55":{start:{line:59,column:12},end:{line:59,column:39}},"56":{start:{line:64,column:6},end:{line:64,column:23}},"57":{start:{line:70,column:6},end:{line:70,column:46}},"58":{start:{line:75,column:23},end:{line:75,column:24}},"59":{start:{line:76,column:6},end:{line:81,column:9}},"60":{start:{line:77,column:8},end:{line:80,column:9}},"61":{start:{line:77,column:21},end:{line:77,column:22}},"62":{start:{line:78,column:24},end:{line:78,column:40}},"63":{start:{line:79,column:10},end:{line:79,column:38}},"64":{start:{line:82,column:6},end:{line:82,column:35}},"65":{start:{line:87,column:23},end:{line:87,column:25}},"66":{start:{line:89,column:6},end:{line:99,column:23}},"67":{start:{line:90,column:8},end:{line:97,column:11}},"68":{start:{line:91,column:24},end:{line:91,column:40}},"69":{start:{line:93,column:10},end:{line:96,column:11}},"70":{start:{line:93,column:23},end:{line:93,column:24}},"71":{start:{line:95,column:12},end:{line:95,column:40}},"72":{start:{line:98,column:8},end:{line:98,column:26}},"73":{start:{line:99,column:13},end:{line:99,column:23}},"74":{start:{line:104,column:26},end:{line:104,column:27}},"75":{start:{line:105,column:6},end:{line:107,column:9}},"76":{start:{line:106,column:8},end:{line:106,column:43}},"77":{start:{line:108,column:6},end:{line:108,column:27}},"78":{start:{line:113,column:19},end:{line:113,column:24}},"79":{start:{line:114,column:6},end:{line:122,column:9}},"80":{start:{line:115,column:22},end:{line:115,column:34}},"81":{start:{line:117,column:8},end:{line:121,column:9}},"82":{start:{line:118,column:10},end:{line:118,column:26}},"83":{start:{line:119,column:10},end:{line:119,column:24}},"84":{start:{line:120,column:10},end:{line:120,column:27}},"85":{start:{line:124,column:6},end:{line:127,column:30}},"86":{start:{line:125,column:8},end:{line:125,column:63}},"87":{start:{line:126,column:8},end:{line:126,column:25}},"88":{start:{line:127,column:13},end:{line:127,column:30}},"89":{start:{line:132,column:28},end:{line:156,column:9}},"90":{start:{line:134,column:8},end:{line:155,column:26}},"91":{start:{line:135,column:10},end:{line:154,column:11}},"92":{start:{line:136,column:12},end:{line:153,column:13}},"93":{start:{line:138,column:16},end:{line:138,column:34}},"94":{start:{line:139,column:16},end:{line:139,column:58}},"95":{start:{line:142,column:16},end:{line:142,column:37}},"96":{start:{line:144,column:16},end:{line:144,column:50}},"97":{start:{line:145,column:16},end:{line:145,column:75}},"98":{start:{line:146,column:16},end:{line:146,column:31}},"99":{start:{line:147,column:16},end:{line:147,column:44}},"100":{start:{line:148,column:16},end:{line:148,column:58}},"101":{start:{line:152,column:16},end:{line:152,column:39}},"102":{start:{line:159,column:8},end:{line:159,column:54}},"103":{start:{line:162,column:6},end:{line:162,column:28}},"104":{start:{line:167,column:24},end:{line:180,column:9}},"105":{start:{line:168,column:8},end:{line:179,column:27}},"106":{start:{line:169,column:10},end:{line:178,column:11}},"107":{start:{line:170,column:12},end:{line:177,column:13}},"108":{start:{line:172,column:16},end:{line:172,column:87}},"109":{start:{line:176,column:16},end:{line:176,column:40}},"110":{start:{line:183,column:8},end:{line:183,column:50}},"111":{start:{line:186,column:6},end:{line:186,column:24}},"112":{start:{line:191,column:27},end:{line:204,column:9}},"113":{start:{line:192,column:8},end:{line:203,column:27}},"114":{start:{line:193,column:10},end:{line:202,column:11}},"115":{start:{line:194,column:12},end:{line:201,column:13}},"116":{start:{line:196,column:16},end:{line:196,column:90}},"117":{start:{line:200,column:16},end:{line:200,column:40}},"118":{start:{line:207,column:8},end:{line:207,column:53}},"119":{start:{line:210,column:6},end:{line:210,column:27}},"120":{start:{line:215,column:34},end:{line:241,column:9}},"121":{start:{line:216,column:20},end:{line:216,column:24}},"122":{start:{line:219,column:8},end:{line:240,column:27}},"123":{start:{line:220,column:10},end:{line:239,column:11}},"124":{start:{line:221,column:12},end:{line:238,column:13}},"125":{start:{line:223,column:16},end:{line:223,column:35}},"126":{start:{line:224,column:16},end:{line:224,column:62}},"127":{start:{line:227,column:16},end:{line:227,column:38}},"128":{start:{line:228,column:16},end:{line:230,column:19}},"129":{start:{line:229,column:18},end:{line:229,column:36}},"130":{start:{line:231,column:16},end:{line:233,column:20}},"131":{start:{line:232,column:18},end:{line:232,column:71}},"132":{start:{line:237,column:16},end:{line:237,column:40}},"133":{start:{line:244,column:8},end:{line:244,column:60}},"134":{start:{line:247,column:6},end:{line:247,column:34}},"135":{start:{line:252,column:35},end:{line:270,column:9}},"136":{start:{line:253,column:8},end:{line:269,column:27}},"137":{start:{line:254,column:10},end:{line:268,column:11}},"138":{start:{line:255,column:12},end:{line:267,column:13}},"139":{start:{line:257,column:16},end:{line:257,column:71}},"140":{start:{line:258,column:16},end:{line:258,column:35}},"141":{start:{line:259,column:16},end:{line:259,column:71}},"142":{start:{line:262,column:16},end:{line:262,column:66}},"143":{start:{line:266,column:16},end:{line:266,column:40}},"144":{start:{line:273,column:8},end:{line:273,column:61}},"145":{start:{line:276,column:6},end:{line:276,column:35}},"146":{start:{line:281,column:31},end:{line:294,column:9}},"147":{start:{line:282,column:8},end:{line:293,column:27}},"148":{start:{line:283,column:10},end:{line:292,column:11}},"149":{start:{line:284,column:12},end:{line:291,column:13}},"150":{start:{line:286,column:16},end:{line:286,column:91}},"151":{start:{line:290,column:16},end:{line:290,column:40}},"152":{start:{line:297,column:8},end:{line:297,column:57}},"153":{start:{line:300,column:6},end:{line:300,column:31}},"154":{start:{line:305,column:43},end:{line:318,column:9}},"155":{start:{line:306,column:8},end:{line:317,column:27}},"156":{start:{line:307,column:10},end:{line:316,column:11}},"157":{start:{line:308,column:12},end:{line:315,column:13}},"158":{start:{line:310,column:16},end:{line:310,column:107}},"159":{start:{line:314,column:16},end:{line:314,column:40}},"160":{start:{line:321,column:8},end:{line:321,column:69}},"161":{start:{line:324,column:6},end:{line:324,column:43}},"162":{start:{line:329,column:33},end:{line:342,column:9}},"163":{start:{line:330,column:8},end:{line:341,column:27}},"164":{start:{line:331,column:10},end:{line:340,column:11}},"165":{start:{line:332,column:12},end:{line:339,column:13}},"166":{start:{line:334,column:16},end:{line:334,column:89}},"167":{start:{line:338,column:16},end:{line:338,column:40}},"168":{start:{line:345,column:8},end:{line:345,column:59}},"169":{start:{line:348,column:6},end:{line:348,column:33}},"170":{start:{line:352,column:2},end:{line:352,column:22}},"171":{start:{line:355,column:0},end:{line:355,column:34}}},fnMap:{"0":{name:"_interopRequireDefault",decl:{start:{line:14,column:9},end:{line:14,column:31}},loc:{start:{line:14,column:37},end:{line:14,column:97}},line:14},"1":{name:"asyncGeneratorStep",decl:{start:{line:16,column:9},end:{line:16,column:27}},loc:{start:{line:16,column:75},end:{line:16,column:265}},line:16},"2":{name:"_asyncToGenerator",decl:{start:{line:18,column:9},end:{line:18,column:26}},loc:{start:{line:18,column:31},end:{line:18,column:389}},line:18},"3":{name:"(anonymous_3)",decl:{start:{line:18,column:40},end:{line:18,column:41}},loc:{start:{line:18,column:52},end:{line:18,column:386}},line:18},"4":{name:"(anonymous_4)",decl:{start:{line:18,column:108},end:{line:18,column:109}},loc:{start:{line:18,column:135},end:{line:18,column:382}},line:18},"5":{name:"_next",decl:{start:{line:18,column:178},end:{line:18,column:183}},loc:{start:{line:18,column:191},end:{line:18,column:266}},line:18},"6":{name:"_throw",decl:{start:{line:18,column:276},end:{line:18,column:282}},loc:{start:{line:18,column:288},end:{line:18,column:362}},line:18},"7":{name:"_classCallCheck",decl:{start:{line:20,column:9},end:{line:20,column:24}},loc:{start:{line:20,column:48},end:{line:20,column:153}},line:20},"8":{name:"_defineProperties",decl:{start:{line:22,column:9},end:{line:22,column:26}},loc:{start:{line:22,column:42},end:{line:22,column:317}},line:22},"9":{name:"_createClass",decl:{start:{line:24,column:9},end:{line:24,column:21}},loc:{start:{line:24,column:60},end:{line:24,column:215}},line:24},"10":{name:"(anonymous_10)",decl:{start:{line:26,column:32},end:{line:26,column:33}},loc:{start:{line:26,column:44},end:{line:353,column:1}},line:26},"11":{name:"ProductLogic",decl:{start:{line:27,column:11},end:{line:27,column:23}},loc:{start:{line:27,column:26},end:{line:32,column:3}},line:27},"12":{name:"addToShoppingCart",decl:{start:{line:36,column:20},end:{line:36,column:37}},loc:{start:{line:36,column:61},end:{line:40,column:5}},line:36},"13":{name:"removeFromShoppingCart",decl:{start:{line:43,column:20},end:{line:43,column:42}},loc:{start:{line:43,column:74},end:{line:65,column:5}},line:43},"14":{name:"checkExistingBasket",decl:{start:{line:68,column:20},end:{line:68,column:39}},loc:{start:{line:68,column:50},end:{line:71,column:5}},line:68},"15":{name:"calculateBasketCosts",decl:{start:{line:74,column:20},end:{line:74,column:40}},loc:{start:{line:74,column:52},end:{line:83,column:5}},line:74},"16":{name:"(anonymous_16)",decl:{start:{line:76,column:24},end:{line:76,column:25}},loc:{start:{line:76,column:44},end:{line:81,column:7}},line:76},"17":{name:"getProductIds",decl:{start:{line:86,column:20},end:{line:86,column:33}},loc:{start:{line:86,column:45},end:{line:100,column:5}},line:86},"18":{name:"(anonymous_18)",decl:{start:{line:90,column:26},end:{line:90,column:27}},loc:{start:{line:90,column:46},end:{line:97,column:9}},line:90},"19":{name:"getTotalQuantity",decl:{start:{line:103,column:20},end:{line:103,column:36}},loc:{start:{line:103,column:48},end:{line:109,column:5}},line:103},"20":{name:"(anonymous_20)",decl:{start:{line:105,column:24},end:{line:105,column:25}},loc:{start:{line:105,column:44},end:{line:107,column:7}},line:105},"21":{name:"existsInBasket",decl:{start:{line:112,column:20},end:{line:112,column:34}},loc:{start:{line:112,column:49},end:{line:128,column:5}},line:112},"22":{name:"(anonymous_22)",decl:{start:{line:114,column:24},end:{line:114,column:25}},loc:{start:{line:114,column:40},end:{line:122,column:7}},line:114},"23":{name:"(anonymous_23)",decl:{start:{line:131,column:11},end:{line:131,column:12}},loc:{start:{line:131,column:23},end:{line:163,column:5}},line:131},"24":{name:"_callee",decl:{start:{line:132,column:93},end:{line:132,column:100}},loc:{start:{line:132,column:105},end:{line:156,column:7}},line:132},"25":{name:"_callee$",decl:{start:{line:134,column:48},end:{line:134,column:56}},loc:{start:{line:134,column:67},end:{line:155,column:9}},line:134},"26":{name:"getProductById",decl:{start:{line:158,column:15},end:{line:158,column:29}},loc:{start:{line:158,column:34},end:{line:160,column:7}},line:158},"27":{name:"(anonymous_27)",decl:{start:{line:166,column:11},end:{line:166,column:12}},loc:{start:{line:166,column:23},end:{line:187,column:5}},line:166},"28":{name:"_callee2",decl:{start:{line:167,column:89},end:{line:167,column:97}},loc:{start:{line:167,column:107},end:{line:180,column:7}},line:167},"29":{name:"_callee2$",decl:{start:{line:168,column:48},end:{line:168,column:57}},loc:{start:{line:168,column:69},end:{line:179,column:9}},line:168},"30":{name:"addProduct",decl:{start:{line:182,column:15},end:{line:182,column:25}},loc:{start:{line:182,column:31},end:{line:184,column:7}},line:182},"31":{name:"(anonymous_31)",decl:{start:{line:190,column:11},end:{line:190,column:12}},loc:{start:{line:190,column:23},end:{line:211,column:5}},line:190},"32":{name:"_callee3",decl:{start:{line:191,column:92},end:{line:191,column:100}},loc:{start:{line:191,column:110},end:{line:204,column:7}},line:191},"33":{name:"_callee3$",decl:{start:{line:192,column:48},end:{line:192,column:57}},loc:{start:{line:192,column:69},end:{line:203,column:9}},line:192},"34":{name:"updateProduct",decl:{start:{line:206,column:15},end:{line:206,column:28}},loc:{start:{line:206,column:34},end:{line:208,column:7}},line:206},"35":{name:"(anonymous_35)",decl:{start:{line:214,column:11},end:{line:214,column:12}},loc:{start:{line:214,column:23},end:{line:248,column:5}},line:214},"36":{name:"_callee4",decl:{start:{line:215,column:99},end:{line:215,column:107}},loc:{start:{line:215,column:110},end:{line:241,column:7}},line:215},"37":{name:"_callee4$",decl:{start:{line:219,column:48},end:{line:219,column:57}},loc:{start:{line:219,column:69},end:{line:240,column:9}},line:219},"38":{name:"(anonymous_38)",decl:{start:{line:228,column:38},end:{line:228,column:39}},loc:{start:{line:228,column:51},end:{line:230,column:17}},line:228},"39":{name:"(anonymous_39)",decl:{start:{line:231,column:65},end:{line:231,column:66}},loc:{start:{line:231,column:78},end:{line:233,column:17}},line:231},"40":{name:"getProductCategories",decl:{start:{line:243,column:15},end:{line:243,column:35}},loc:{start:{line:243,column:38},end:{line:245,column:7}},line:243},"41":{name:"(anonymous_41)",decl:{start:{line:251,column:11},end:{line:251,column:12}},loc:{start:{line:251,column:23},end:{line:277,column:5}},line:251},"42":{name:"_callee5",decl:{start:{line:252,column:100},end:{line:252,column:108}},loc:{start:{line:252,column:119},end:{line:270,column:7}},line:252},"43":{name:"_callee5$",decl:{start:{line:253,column:48},end:{line:253,column:57}},loc:{start:{line:253,column:69},end:{line:269,column:9}},line:253},"44":{name:"getProductsByCategory",decl:{start:{line:272,column:15},end:{line:272,column:36}},loc:{start:{line:272,column:42},end:{line:274,column:7}},line:272},"45":{name:"(anonymous_45)",decl:{start:{line:280,column:11},end:{line:280,column:12}},loc:{start:{line:280,column:23},end:{line:301,column:5}},line:280},"46":{name:"_callee6",decl:{start:{line:281,column:96},end:{line:281,column:104}},loc:{start:{line:281,column:111},end:{line:294,column:7}},line:281},"47":{name:"_callee6$",decl:{start:{line:282,column:48},end:{line:282,column:57}},loc:{start:{line:282,column:69},end:{line:293,column:9}},line:282},"48":{name:"getProductsByName",decl:{start:{line:296,column:15},end:{line:296,column:32}},loc:{start:{line:296,column:38},end:{line:298,column:7}},line:296},"49":{name:"(anonymous_49)",decl:{start:{line:304,column:11},end:{line:304,column:12}},loc:{start:{line:304,column:23},end:{line:325,column:5}},line:304},"50":{name:"_callee7",decl:{start:{line:305,column:108},end:{line:305,column:116}},loc:{start:{line:305,column:127},end:{line:318,column:7}},line:305},"51":{name:"_callee7$",decl:{start:{line:306,column:48},end:{line:306,column:57}},loc:{start:{line:306,column:69},end:{line:317,column:9}},line:306},"52":{name:"removeBasketProductsFromStore",decl:{start:{line:320,column:15},end:{line:320,column:44}},loc:{start:{line:320,column:50},end:{line:322,column:7}},line:320},"53":{name:"(anonymous_53)",decl:{start:{line:328,column:11},end:{line:328,column:12}},loc:{start:{line:328,column:23},end:{line:349,column:5}},line:328},"54":{name:"_callee8",decl:{start:{line:329,column:98},end:{line:329,column:106}},loc:{start:{line:329,column:109},end:{line:342,column:7}},line:329},"55":{name:"_callee8$",decl:{start:{line:330,column:48},end:{line:330,column:57}},loc:{start:{line:330,column:69},end:{line:341,column:9}},line:330},"56":{name:"getTopRatedProducts",decl:{start:{line:344,column:15},end:{line:344,column:34}},loc:{start:{line:344,column:37},end:{line:346,column:7}},line:344}},branchMap:{"0":{loc:{start:{line:14,column:46},end:{line:14,column:94}},type:"cond-expr",locations:[{start:{line:14,column:70},end:{line:14,column:73}},{start:{line:14,column:76},end:{line:14,column:94}}],line:14},"1":{loc:{start:{line:14,column:46},end:{line:14,column:67}},type:"binary-expr",locations:[{start:{line:14,column:46},end:{line:14,column:49}},{start:{line:14,column:53},end:{line:14,column:67}}],line:14},"2":{loc:{start:{line:16,column:176},end:{line:16,column:263}},type:"if",locations:[{start:{line:16,column:176},end:{line:16,column:263}},{start:{line:16,column:176},end:{line:16,column:263}}],line:16},"3":{loc:{start:{line:20,column:50},end:{line:20,column:151}},type:"if",locations:[{start:{line:20,column:50},end:{line:20,column:151}},{start:{line:20,column:50},end:{line:20,column:151}}],line:20},"4":{loc:{start:{line:22,column:136},end:{line:22,column:166}},type:"binary-expr",locations:[{start:{line:22,column:136},end:{line:22,column:157}},{start:{line:22,column:161},end:{line:22,column:166}}],line:22},"5":{loc:{start:{line:22,column:200},end:{line:22,column:254}},type:"if",locations:[{start:{line:22,column:200},end:{line:22,column:254}},{start:{line:22,column:200},end:{line:22,column:254}}],line:22},"6":{loc:{start:{line:24,column:62},end:{line:24,column:131}},type:"if",locations:[{start:{line:24,column:62},end:{line:24,column:131}},{start:{line:24,column:62},end:{line:24,column:131}}],line:24},"7":{loc:{start:{line:24,column:132},end:{line:24,column:193}},type:"if",locations:[{start:{line:24,column:132},end:{line:24,column:193}},{start:{line:24,column:132},end:{line:24,column:193}}],line:24},"8":{loc:{start:{line:50,column:8},end:{line:61,column:9}},type:"if",locations:[{start:{line:50,column:8},end:{line:61,column:9}},{start:{line:50,column:8},end:{line:61,column:9}}],line:50},"9":{loc:{start:{line:51,column:10},end:{line:54,column:11}},type:"if",locations:[{start:{line:51,column:10},end:{line:54,column:11}},{start:{line:51,column:10},end:{line:54,column:11}}],line:51},"10":{loc:{start:{line:56,column:10},end:{line:60,column:11}},type:"if",locations:[{start:{line:56,column:10},end:{line:60,column:11}},{start:{line:56,column:10},end:{line:60,column:11}}],line:56},"11":{loc:{start:{line:70,column:13},end:{line:70,column:45}},type:"cond-expr",locations:[{start:{line:70,column:32},end:{line:70,column:34}},{start:{line:70,column:37},end:{line:70,column:45}}],line:70},"12":{loc:{start:{line:89,column:6},end:{line:99,column:23}},type:"if",locations:[{start:{line:89,column:6},end:{line:99,column:23}},{start:{line:89,column:6},end:{line:99,column:23}}],line:89},"13":{loc:{start:{line:117,column:8},end:{line:121,column:9}},type:"if",locations:[{start:{line:117,column:8},end:{line:121,column:9}},{start:{line:117,column:8},end:{line:121,column:9}}],line:117},"14":{loc:{start:{line:124,column:6},end:{line:127,column:30}},type:"if",locations:[{start:{line:124,column:6},end:{line:127,column:30}},{start:{line:124,column:6},end:{line:127,column:30}}],line:124},"15":{loc:{start:{line:136,column:12},end:{line:153,column:13}},type:"switch",locations:[{start:{line:137,column:14},end:{line:139,column:58}},{start:{line:141,column:14},end:{line:148,column:58}},{start:{line:150,column:14},end:{line:150,column:21}},{start:{line:151,column:14},end:{line:152,column:39}}],line:136},"16":{loc:{start:{line:170,column:12},end:{line:177,column:13}},type:"switch",locations:[{start:{line:171,column:14},end:{line:172,column:87}},{start:{line:174,column:14},end:{line:174,column:21}},{start:{line:175,column:14},end:{line:176,column:40}}],line:170},"17":{loc:{start:{line:194,column:12},end:{line:201,column:13}},type:"switch",locations:[{start:{line:195,column:14},end:{line:196,column:90}},{start:{line:198,column:14},end:{line:198,column:21}},{start:{line:199,column:14},end:{line:200,column:40}}],line:194},"18":{loc:{start:{line:221,column:12},end:{line:238,column:13}},type:"switch",locations:[{start:{line:222,column:14},end:{line:224,column:62}},{start:{line:226,column:14},end:{line:233,column:20}},{start:{line:235,column:14},end:{line:235,column:21}},{start:{line:236,column:14},end:{line:237,column:40}}],line:221},"19":{loc:{start:{line:255,column:12},end:{line:267,column:13}},type:"switch",locations:[{start:{line:256,column:14},end:{line:259,column:71}},{start:{line:261,column:14},end:{line:262,column:66}},{start:{line:264,column:14},end:{line:264,column:21}},{start:{line:265,column:14},end:{line:266,column:40}}],line:255},"20":{loc:{start:{line:284,column:12},end:{line:291,column:13}},type:"switch",locations:[{start:{line:285,column:14},end:{line:286,column:91}},{start:{line:288,column:14},end:{line:288,column:21}},{start:{line:289,column:14},end:{line:290,column:40}}],line:284},"21":{loc:{start:{line:308,column:12},end:{line:315,column:13}},type:"switch",locations:[{start:{line:309,column:14},end:{line:310,column:107}},{start:{line:312,column:14},end:{line:312,column:21}},{start:{line:313,column:14},end:{line:314,column:40}}],line:308},"22":{loc:{start:{line:332,column:12},end:{line:339,column:13}},type:"switch",locations:[{start:{line:333,column:14},end:{line:334,column:89}},{start:{line:336,column:14},end:{line:336,column:21}},{start:{line:337,column:14},end:{line:338,column:40}}],line:332}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"167":0,"168":0,"169":0,"170":0,"171":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0,0,0],"16":[0,0,0],"17":[0,0,0],"18":[0,0,0,0],"19":[0,0,0,0],"20":[0,0,0],"21":[0,0,0],"22":[0,0,0]},inputSourceMap:{version:3,sources:["ProductLogic.js"],names:["ProductLogic","productDao","ProductDao","categoryLogic","CategoryLogic","newProduct","cartItems","checkExistingBasket","existsInBasket","productToBeRemoved","i","length","cartItem","product","id","quantity","index","indexOf","splice","products","totalCosts","forEach","price","toFixed","productIds","push","totalQuantity","p","exists","item","ShoppingCartItem","getProductById","data","category","toReadableCategory","addProduct","updateProduct","getProductCategories","categories","map","x","toRestCategory","getProductsByCategory","name","getProductsByName","removeBasketProductsFromStore","getTopRatedProducts"],mappings:"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",sourceRoot:"C:\\Users\\Tjerk_2\\Desktop\\S4 - Vue FrontEnd\\logic\\",sourcesContent:["import ProductDao from '@/data/ProductDao.js';\r\nimport ShoppingCartItem from'@/models/ShoppingCartitem.js';\r\n\r\nimport CategoryLogic from '@/logic/CategoryLogic.js';\r\n\r\nexport default class ProductLogic {\r\n\r\n    constructor() {\r\n        this.productDao = new ProductDao();\r\n        this.categoryLogic = new CategoryLogic();\r\n    }\r\n\r\n    addToShoppingCart(newProduct, cartItems) {\r\n        \r\n        cartItems = this.checkExistingBasket(cartItems);\r\n\r\n        cartItems = this.existsInBasket(newProduct, cartItems);\r\n\r\n        return cartItems;\r\n    } \r\n\r\n    removeFromShoppingCart(productToBeRemoved, cartItems) {\r\n        \r\n        cartItems = this.checkExistingBasket(cartItems);\r\n        //remove product from shopping cart\r\n        for(let i = 0; i < cartItems.length; i++) {\r\n            let cartItem = cartItems[i];\r\n            let product = cartItem.product;\r\n\r\n            if(product.id == productToBeRemoved.id) {\r\n                if(cartItem.quantity > 0) {\r\n                    //lower quantity for chosen product\r\n                    cartItem.quantity--;\r\n                }\r\n                if(cartItem.quantity == 0) {\r\n                    //remove cartItem completely\r\n                    let index = cartItems.indexOf(cartItem);\r\n                    cartItems.splice(index, 1);\r\n                }\r\n            }  \r\n        \r\n        }\r\n        return cartItems;\r\n    }\r\n\r\n    checkExistingBasket(products) {\r\n        //create new basket if user doesn't have one  \r\n        return products == null ? [] : products;\r\n    }\r\n\r\n    calculateBasketCosts(cartItems) {\r\n        let totalCosts = 0;\r\n        cartItems.forEach(cartItem => {\r\n            for(let i = 0; i < cartItem.quantity; i++) {\r\n\r\n                let product = cartItem.product;\r\n                totalCosts += product.price;\r\n            }\r\n        });\r\n        return totalCosts.toFixed(2);\r\n    }\r\n\r\n    getProductIds(cartItems) {\r\n\r\n        let productIds = [];\r\n\r\n        if(cartItems.length) {\r\n            cartItems.forEach(cartItem => {\r\n                \r\n                let product = cartItem.product;\r\n                for(let i = 0; i < cartItem.quantity; i++) {\r\n                    //add each product individually\r\n                    productIds.push(product.id);\r\n                }\r\n            });\r\n            return productIds;\r\n        }\r\n        else return [];\r\n    }\r\n\r\n    getTotalQuantity(cartItems) {\r\n        let totalQuantity = 0;\r\n        cartItems.forEach(cartItem => {\r\n            totalQuantity += cartItem.quantity;\r\n        });\r\n        return totalQuantity;\r\n    }\r\n\r\n    existsInBasket(p, cartItems) {\r\n        let exists = false;\r\n        cartItems.forEach(item => {\r\n            let product = item.product;\r\n            if(p.id == product.id) {\r\n                item.quantity++;\r\n                exists = true;\r\n                return cartItems;\r\n            }\r\n        }); \r\n        //still gets triggered otherwise somehow\r\n        if(!exists) {\r\n            cartItems.push(new ShoppingCartItem(p, 1));\r\n            return cartItems;\r\n        }\r\n        else return cartItems;\r\n    }\r\n    \r\n    async getProductById(id) {\r\n        let data = await this.productDao.getProductById(id);\r\n        //category is saved as enum object\r\n        let category = data.category.category;\r\n        category = this.categoryLogic.toReadableCategory(category);\r\n\r\n        let product = data;\r\n        product.category = category;\r\n\r\n        return product;   \r\n    }\r\n\r\n    async addProduct(product) {\r\n        return this.productDao.addProduct(product);\r\n    }\r\n\r\n    async updateProduct(product) {\r\n        return this.productDao.updateProduct(product);\r\n    }\r\n\r\n    async getProductCategories() {\r\n        let data = await this.productDao.getProductCategories();\r\n\r\n        let categories = data.map(x => x.category);\r\n\r\n        return categories.map(x => x = this.categoryLogic.toReadableCategory(x))\r\n    }\r\n\r\n    async getProductsByCategory(category) {\r\n        category = this.categoryLogic.toRestCategory(category);\r\n\r\n        return await this.productDao.getProductsByCategory(category);\r\n    }\r\n\r\n    async getProductsByName(name) {\r\n        return this.productDao.getProductsByName(name);\r\n    }\r\n\r\n    async removeBasketProductsFromStore(products) {\r\n        return this.productDao.removeBasketProductsFromStore(products);\r\n    }\r\n\r\n    async getTopRatedProducts() {\r\n        return this.productDao.getTopRatedProducts();\r\n    }\r\n}"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"96bb416565055f641dfad2e3a5db8811f312a587"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];cov_23gaygbfoz=function(){return actualCoverage;};return actualCoverage;}cov_23gaygbfoz();cov_23gaygbfoz().s[0]++;Object.defineProperty(exports,"__esModule",{value:true});cov_23gaygbfoz().s[1]++;exports["default"]=void 0;var _ProductDao=(cov_23gaygbfoz().s[2]++,_interopRequireDefault(require("../data/ProductDao.js")));var _ShoppingCartitem=(cov_23gaygbfoz().s[3]++,_interopRequireDefault(require("../models/ShoppingCartitem.js")));var _CategoryLogic=(cov_23gaygbfoz().s[4]++,_interopRequireDefault(require("./CategoryLogic.js")));function _interopRequireDefault(obj){cov_23gaygbfoz().f[0]++;cov_23gaygbfoz().s[5]++;return(cov_23gaygbfoz().b[1][0]++,obj)&&(cov_23gaygbfoz().b[1][1]++,obj.__esModule)?(cov_23gaygbfoz().b[0][0]++,obj):(cov_23gaygbfoz().b[0][1]++,{"default":obj});}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){cov_23gaygbfoz().f[1]++;cov_23gaygbfoz().s[6]++;try{var info=(cov_23gaygbfoz().s[7]++,gen[key](arg));var value=(cov_23gaygbfoz().s[8]++,info.value);}catch(error){cov_23gaygbfoz().s[9]++;reject(error);cov_23gaygbfoz().s[10]++;return;}cov_23gaygbfoz().s[11]++;if(info.done){cov_23gaygbfoz().b[2][0]++;cov_23gaygbfoz().s[12]++;resolve(value);}else{cov_23gaygbfoz().b[2][1]++;cov_23gaygbfoz().s[13]++;Promise.resolve(value).then(_next,_throw);}}function _asyncToGenerator(fn){cov_23gaygbfoz().f[2]++;cov_23gaygbfoz().s[14]++;return function(){cov_23gaygbfoz().f[3]++;var self=(cov_23gaygbfoz().s[15]++,this),args=(cov_23gaygbfoz().s[16]++,arguments);cov_23gaygbfoz().s[17]++;return new Promise(function(resolve,reject){cov_23gaygbfoz().f[4]++;var gen=(cov_23gaygbfoz().s[18]++,fn.apply(self,args));function _next(value){cov_23gaygbfoz().f[5]++;cov_23gaygbfoz().s[19]++;asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value);}function _throw(err){cov_23gaygbfoz().f[6]++;cov_23gaygbfoz().s[20]++;asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err);}cov_23gaygbfoz().s[21]++;_next(undefined);});};}function _classCallCheck(instance,Constructor){cov_23gaygbfoz().f[7]++;cov_23gaygbfoz().s[22]++;if(!(instance instanceof Constructor)){cov_23gaygbfoz().b[3][0]++;cov_23gaygbfoz().s[23]++;throw new TypeError("Cannot call a class as a function");}else{cov_23gaygbfoz().b[3][1]++;}}function _defineProperties(target,props){cov_23gaygbfoz().f[8]++;cov_23gaygbfoz().s[24]++;for(var i=(cov_23gaygbfoz().s[25]++,0);i<props.length;i++){var descriptor=(cov_23gaygbfoz().s[26]++,props[i]);cov_23gaygbfoz().s[27]++;descriptor.enumerable=(cov_23gaygbfoz().b[4][0]++,descriptor.enumerable)||(cov_23gaygbfoz().b[4][1]++,false);cov_23gaygbfoz().s[28]++;descriptor.configurable=true;cov_23gaygbfoz().s[29]++;if("value"in descriptor){cov_23gaygbfoz().b[5][0]++;cov_23gaygbfoz().s[30]++;descriptor.writable=true;}else{cov_23gaygbfoz().b[5][1]++;}cov_23gaygbfoz().s[31]++;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){cov_23gaygbfoz().f[9]++;cov_23gaygbfoz().s[32]++;if(protoProps){cov_23gaygbfoz().b[6][0]++;cov_23gaygbfoz().s[33]++;_defineProperties(Constructor.prototype,protoProps);}else{cov_23gaygbfoz().b[6][1]++;}cov_23gaygbfoz().s[34]++;if(staticProps){cov_23gaygbfoz().b[7][0]++;cov_23gaygbfoz().s[35]++;_defineProperties(Constructor,staticProps);}else{cov_23gaygbfoz().b[7][1]++;}cov_23gaygbfoz().s[36]++;return Constructor;}var ProductLogic=(/*#__PURE__*/cov_23gaygbfoz().s[37]++,function(){cov_23gaygbfoz().f[10]++;function ProductLogic(){cov_23gaygbfoz().f[11]++;cov_23gaygbfoz().s[38]++;_classCallCheck(this,ProductLogic);cov_23gaygbfoz().s[39]++;this.productDao=new _ProductDao["default"]();cov_23gaygbfoz().s[40]++;this.categoryLogic=new _CategoryLogic["default"]();}cov_23gaygbfoz().s[41]++;_createClass(ProductLogic,[{key:"addToShoppingCart",value:function addToShoppingCart(newProduct,cartItems){cov_23gaygbfoz().f[12]++;cov_23gaygbfoz().s[42]++;cartItems=this.checkExistingBasket(cartItems);cov_23gaygbfoz().s[43]++;cartItems=this.existsInBasket(newProduct,cartItems);cov_23gaygbfoz().s[44]++;return cartItems;}},{key:"removeFromShoppingCart",value:function removeFromShoppingCart(productToBeRemoved,cartItems){cov_23gaygbfoz().f[13]++;cov_23gaygbfoz().s[45]++;cartItems=this.checkExistingBasket(cartItems);//remove product from shopping cart
cov_23gaygbfoz().s[46]++;for(var i=(cov_23gaygbfoz().s[47]++,0);i<cartItems.length;i++){var cartItem=(cov_23gaygbfoz().s[48]++,cartItems[i]);var product=(cov_23gaygbfoz().s[49]++,cartItem.product);cov_23gaygbfoz().s[50]++;if(product.id==productToBeRemoved.id){cov_23gaygbfoz().b[8][0]++;cov_23gaygbfoz().s[51]++;if(cartItem.quantity>0){cov_23gaygbfoz().b[9][0]++;cov_23gaygbfoz().s[52]++;//lower quantity for chosen product
cartItem.quantity--;}else{cov_23gaygbfoz().b[9][1]++;}cov_23gaygbfoz().s[53]++;if(cartItem.quantity==0){cov_23gaygbfoz().b[10][0]++;//remove cartItem completely
var index=(cov_23gaygbfoz().s[54]++,cartItems.indexOf(cartItem));cov_23gaygbfoz().s[55]++;cartItems.splice(index,1);}else{cov_23gaygbfoz().b[10][1]++;}}else{cov_23gaygbfoz().b[8][1]++;}}cov_23gaygbfoz().s[56]++;return cartItems;}},{key:"checkExistingBasket",value:function checkExistingBasket(products){cov_23gaygbfoz().f[14]++;cov_23gaygbfoz().s[57]++;//create new basket if user doesn't have one  
return products==null?(cov_23gaygbfoz().b[11][0]++,[]):(cov_23gaygbfoz().b[11][1]++,products);}},{key:"calculateBasketCosts",value:function calculateBasketCosts(cartItems){cov_23gaygbfoz().f[15]++;var totalCosts=(cov_23gaygbfoz().s[58]++,0);cov_23gaygbfoz().s[59]++;cartItems.forEach(function(cartItem){cov_23gaygbfoz().f[16]++;cov_23gaygbfoz().s[60]++;for(var i=(cov_23gaygbfoz().s[61]++,0);i<cartItem.quantity;i++){var product=(cov_23gaygbfoz().s[62]++,cartItem.product);cov_23gaygbfoz().s[63]++;totalCosts+=product.price;}});cov_23gaygbfoz().s[64]++;return totalCosts.toFixed(2);}},{key:"getProductIds",value:function getProductIds(cartItems){cov_23gaygbfoz().f[17]++;var productIds=(cov_23gaygbfoz().s[65]++,[]);cov_23gaygbfoz().s[66]++;if(cartItems.length){cov_23gaygbfoz().b[12][0]++;cov_23gaygbfoz().s[67]++;cartItems.forEach(function(cartItem){cov_23gaygbfoz().f[18]++;var product=(cov_23gaygbfoz().s[68]++,cartItem.product);cov_23gaygbfoz().s[69]++;for(var i=(cov_23gaygbfoz().s[70]++,0);i<cartItem.quantity;i++){cov_23gaygbfoz().s[71]++;//add each product individually
productIds.push(product.id);}});cov_23gaygbfoz().s[72]++;return productIds;}else{cov_23gaygbfoz().b[12][1]++;cov_23gaygbfoz().s[73]++;return[];}}},{key:"getTotalQuantity",value:function getTotalQuantity(cartItems){cov_23gaygbfoz().f[19]++;var totalQuantity=(cov_23gaygbfoz().s[74]++,0);cov_23gaygbfoz().s[75]++;cartItems.forEach(function(cartItem){cov_23gaygbfoz().f[20]++;cov_23gaygbfoz().s[76]++;totalQuantity+=cartItem.quantity;});cov_23gaygbfoz().s[77]++;return totalQuantity;}},{key:"existsInBasket",value:function existsInBasket(p,cartItems){cov_23gaygbfoz().f[21]++;var exists=(cov_23gaygbfoz().s[78]++,false);cov_23gaygbfoz().s[79]++;cartItems.forEach(function(item){cov_23gaygbfoz().f[22]++;var product=(cov_23gaygbfoz().s[80]++,item.product);cov_23gaygbfoz().s[81]++;if(p.id==product.id){cov_23gaygbfoz().b[13][0]++;cov_23gaygbfoz().s[82]++;item.quantity++;cov_23gaygbfoz().s[83]++;exists=true;cov_23gaygbfoz().s[84]++;return cartItems;}else{cov_23gaygbfoz().b[13][1]++;}});//still gets triggered otherwise somehow
cov_23gaygbfoz().s[85]++;if(!exists){cov_23gaygbfoz().b[14][0]++;cov_23gaygbfoz().s[86]++;cartItems.push(new _ShoppingCartitem["default"](p,1));cov_23gaygbfoz().s[87]++;return cartItems;}else{cov_23gaygbfoz().b[14][1]++;cov_23gaygbfoz().s[88]++;return cartItems;}}},{key:"getProductById",value:function(){cov_23gaygbfoz().f[23]++;var _getProductById=(cov_23gaygbfoz().s[89]++,_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee(id){cov_23gaygbfoz().f[24]++;var data,category,product;cov_23gaygbfoz().s[90]++;return regeneratorRuntime.wrap(function _callee$(_context){cov_23gaygbfoz().f[25]++;cov_23gaygbfoz().s[91]++;while(1){cov_23gaygbfoz().s[92]++;switch(_context.prev=_context.next){case 0:cov_23gaygbfoz().b[15][0]++;cov_23gaygbfoz().s[93]++;_context.next=2;cov_23gaygbfoz().s[94]++;return this.productDao.getProductById(id);case 2:cov_23gaygbfoz().b[15][1]++;cov_23gaygbfoz().s[95]++;data=_context.sent;//category is saved as enum object
cov_23gaygbfoz().s[96]++;category=data.category.category;cov_23gaygbfoz().s[97]++;category=this.categoryLogic.toReadableCategory(category);cov_23gaygbfoz().s[98]++;product=data;cov_23gaygbfoz().s[99]++;product.category=category;cov_23gaygbfoz().s[100]++;return _context.abrupt("return",product);case 8:cov_23gaygbfoz().b[15][2]++;case"end":cov_23gaygbfoz().b[15][3]++;cov_23gaygbfoz().s[101]++;return _context.stop();}}},_callee,this);})));function getProductById(_x){cov_23gaygbfoz().f[26]++;cov_23gaygbfoz().s[102]++;return _getProductById.apply(this,arguments);}cov_23gaygbfoz().s[103]++;return getProductById;}()},{key:"addProduct",value:function(){cov_23gaygbfoz().f[27]++;var _addProduct=(cov_23gaygbfoz().s[104]++,_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee2(product){cov_23gaygbfoz().f[28]++;cov_23gaygbfoz().s[105]++;return regeneratorRuntime.wrap(function _callee2$(_context2){cov_23gaygbfoz().f[29]++;cov_23gaygbfoz().s[106]++;while(1){cov_23gaygbfoz().s[107]++;switch(_context2.prev=_context2.next){case 0:cov_23gaygbfoz().b[16][0]++;cov_23gaygbfoz().s[108]++;return _context2.abrupt("return",this.productDao.addProduct(product));case 1:cov_23gaygbfoz().b[16][1]++;case"end":cov_23gaygbfoz().b[16][2]++;cov_23gaygbfoz().s[109]++;return _context2.stop();}}},_callee2,this);})));function addProduct(_x2){cov_23gaygbfoz().f[30]++;cov_23gaygbfoz().s[110]++;return _addProduct.apply(this,arguments);}cov_23gaygbfoz().s[111]++;return addProduct;}()},{key:"updateProduct",value:function(){cov_23gaygbfoz().f[31]++;var _updateProduct=(cov_23gaygbfoz().s[112]++,_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee3(product){cov_23gaygbfoz().f[32]++;cov_23gaygbfoz().s[113]++;return regeneratorRuntime.wrap(function _callee3$(_context3){cov_23gaygbfoz().f[33]++;cov_23gaygbfoz().s[114]++;while(1){cov_23gaygbfoz().s[115]++;switch(_context3.prev=_context3.next){case 0:cov_23gaygbfoz().b[17][0]++;cov_23gaygbfoz().s[116]++;return _context3.abrupt("return",this.productDao.updateProduct(product));case 1:cov_23gaygbfoz().b[17][1]++;case"end":cov_23gaygbfoz().b[17][2]++;cov_23gaygbfoz().s[117]++;return _context3.stop();}}},_callee3,this);})));function updateProduct(_x3){cov_23gaygbfoz().f[34]++;cov_23gaygbfoz().s[118]++;return _updateProduct.apply(this,arguments);}cov_23gaygbfoz().s[119]++;return updateProduct;}()},{key:"getProductCategories",value:function(){cov_23gaygbfoz().f[35]++;var _getProductCategories=(cov_23gaygbfoz().s[120]++,_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee4(){cov_23gaygbfoz().f[36]++;var _this=(cov_23gaygbfoz().s[121]++,this);var data,categories;cov_23gaygbfoz().s[122]++;return regeneratorRuntime.wrap(function _callee4$(_context4){cov_23gaygbfoz().f[37]++;cov_23gaygbfoz().s[123]++;while(1){cov_23gaygbfoz().s[124]++;switch(_context4.prev=_context4.next){case 0:cov_23gaygbfoz().b[18][0]++;cov_23gaygbfoz().s[125]++;_context4.next=2;cov_23gaygbfoz().s[126]++;return this.productDao.getProductCategories();case 2:cov_23gaygbfoz().b[18][1]++;cov_23gaygbfoz().s[127]++;data=_context4.sent;cov_23gaygbfoz().s[128]++;categories=data.map(function(x){cov_23gaygbfoz().f[38]++;cov_23gaygbfoz().s[129]++;return x.category;});cov_23gaygbfoz().s[130]++;return _context4.abrupt("return",categories.map(function(x){cov_23gaygbfoz().f[39]++;cov_23gaygbfoz().s[131]++;return x=_this.categoryLogic.toReadableCategory(x);}));case 5:cov_23gaygbfoz().b[18][2]++;case"end":cov_23gaygbfoz().b[18][3]++;cov_23gaygbfoz().s[132]++;return _context4.stop();}}},_callee4,this);})));function getProductCategories(){cov_23gaygbfoz().f[40]++;cov_23gaygbfoz().s[133]++;return _getProductCategories.apply(this,arguments);}cov_23gaygbfoz().s[134]++;return getProductCategories;}()},{key:"getProductsByCategory",value:function(){cov_23gaygbfoz().f[41]++;var _getProductsByCategory=(cov_23gaygbfoz().s[135]++,_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee5(category){cov_23gaygbfoz().f[42]++;cov_23gaygbfoz().s[136]++;return regeneratorRuntime.wrap(function _callee5$(_context5){cov_23gaygbfoz().f[43]++;cov_23gaygbfoz().s[137]++;while(1){cov_23gaygbfoz().s[138]++;switch(_context5.prev=_context5.next){case 0:cov_23gaygbfoz().b[19][0]++;cov_23gaygbfoz().s[139]++;category=this.categoryLogic.toRestCategory(category);cov_23gaygbfoz().s[140]++;_context5.next=3;cov_23gaygbfoz().s[141]++;return this.productDao.getProductsByCategory(category);case 3:cov_23gaygbfoz().b[19][1]++;cov_23gaygbfoz().s[142]++;return _context5.abrupt("return",_context5.sent);case 4:cov_23gaygbfoz().b[19][2]++;case"end":cov_23gaygbfoz().b[19][3]++;cov_23gaygbfoz().s[143]++;return _context5.stop();}}},_callee5,this);})));function getProductsByCategory(_x4){cov_23gaygbfoz().f[44]++;cov_23gaygbfoz().s[144]++;return _getProductsByCategory.apply(this,arguments);}cov_23gaygbfoz().s[145]++;return getProductsByCategory;}()},{key:"getProductsByName",value:function(){cov_23gaygbfoz().f[45]++;var _getProductsByName=(cov_23gaygbfoz().s[146]++,_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee6(name){cov_23gaygbfoz().f[46]++;cov_23gaygbfoz().s[147]++;return regeneratorRuntime.wrap(function _callee6$(_context6){cov_23gaygbfoz().f[47]++;cov_23gaygbfoz().s[148]++;while(1){cov_23gaygbfoz().s[149]++;switch(_context6.prev=_context6.next){case 0:cov_23gaygbfoz().b[20][0]++;cov_23gaygbfoz().s[150]++;return _context6.abrupt("return",this.productDao.getProductsByName(name));case 1:cov_23gaygbfoz().b[20][1]++;case"end":cov_23gaygbfoz().b[20][2]++;cov_23gaygbfoz().s[151]++;return _context6.stop();}}},_callee6,this);})));function getProductsByName(_x5){cov_23gaygbfoz().f[48]++;cov_23gaygbfoz().s[152]++;return _getProductsByName.apply(this,arguments);}cov_23gaygbfoz().s[153]++;return getProductsByName;}()},{key:"removeBasketProductsFromStore",value:function(){cov_23gaygbfoz().f[49]++;var _removeBasketProductsFromStore=(cov_23gaygbfoz().s[154]++,_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee7(products){cov_23gaygbfoz().f[50]++;cov_23gaygbfoz().s[155]++;return regeneratorRuntime.wrap(function _callee7$(_context7){cov_23gaygbfoz().f[51]++;cov_23gaygbfoz().s[156]++;while(1){cov_23gaygbfoz().s[157]++;switch(_context7.prev=_context7.next){case 0:cov_23gaygbfoz().b[21][0]++;cov_23gaygbfoz().s[158]++;return _context7.abrupt("return",this.productDao.removeBasketProductsFromStore(products));case 1:cov_23gaygbfoz().b[21][1]++;case"end":cov_23gaygbfoz().b[21][2]++;cov_23gaygbfoz().s[159]++;return _context7.stop();}}},_callee7,this);})));function removeBasketProductsFromStore(_x6){cov_23gaygbfoz().f[52]++;cov_23gaygbfoz().s[160]++;return _removeBasketProductsFromStore.apply(this,arguments);}cov_23gaygbfoz().s[161]++;return removeBasketProductsFromStore;}()},{key:"getTopRatedProducts",value:function(){cov_23gaygbfoz().f[53]++;var _getTopRatedProducts=(cov_23gaygbfoz().s[162]++,_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee8(){cov_23gaygbfoz().f[54]++;cov_23gaygbfoz().s[163]++;return regeneratorRuntime.wrap(function _callee8$(_context8){cov_23gaygbfoz().f[55]++;cov_23gaygbfoz().s[164]++;while(1){cov_23gaygbfoz().s[165]++;switch(_context8.prev=_context8.next){case 0:cov_23gaygbfoz().b[22][0]++;cov_23gaygbfoz().s[166]++;return _context8.abrupt("return",this.productDao.getTopRatedProducts());case 1:cov_23gaygbfoz().b[22][1]++;case"end":cov_23gaygbfoz().b[22][2]++;cov_23gaygbfoz().s[167]++;return _context8.stop();}}},_callee8,this);})));function getTopRatedProducts(){cov_23gaygbfoz().f[56]++;cov_23gaygbfoz().s[168]++;return _getTopRatedProducts.apply(this,arguments);}cov_23gaygbfoz().s[169]++;return getTopRatedProducts;}()}]);cov_23gaygbfoz().s[170]++;return ProductLogic;}());cov_23gaygbfoz().s[171]++;exports["default"]=ProductLogic;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlByb2R1Y3RMb2dpYy5qcyJdLCJuYW1lcyI6WyJQcm9kdWN0TG9naWMiLCJwcm9kdWN0RGFvIiwiUHJvZHVjdERhbyIsImNhdGVnb3J5TG9naWMiLCJDYXRlZ29yeUxvZ2ljIiwibmV3UHJvZHVjdCIsImNhcnRJdGVtcyIsImNoZWNrRXhpc3RpbmdCYXNrZXQiLCJleGlzdHNJbkJhc2tldCIsInByb2R1Y3RUb0JlUmVtb3ZlZCIsImkiLCJsZW5ndGgiLCJjYXJ0SXRlbSIsInByb2R1Y3QiLCJpZCIsInF1YW50aXR5IiwiaW5kZXgiLCJpbmRleE9mIiwic3BsaWNlIiwicHJvZHVjdHMiLCJ0b3RhbENvc3RzIiwiZm9yRWFjaCIsInByaWNlIiwidG9GaXhlZCIsInByb2R1Y3RJZHMiLCJwdXNoIiwidG90YWxRdWFudGl0eSIsInAiLCJleGlzdHMiLCJpdGVtIiwiU2hvcHBpbmdDYXJ0SXRlbSIsImdldFByb2R1Y3RCeUlkIiwiZGF0YSIsImNhdGVnb3J5IiwidG9SZWFkYWJsZUNhdGVnb3J5IiwiYWRkUHJvZHVjdCIsInVwZGF0ZVByb2R1Y3QiLCJnZXRQcm9kdWN0Q2F0ZWdvcmllcyIsImNhdGVnb3JpZXMiLCJtYXAiLCJ4IiwidG9SZXN0Q2F0ZWdvcnkiLCJnZXRQcm9kdWN0c0J5Q2F0ZWdvcnkiLCJuYW1lIiwiZ2V0UHJvZHVjdHNCeU5hbWUiLCJyZW1vdmVCYXNrZXRQcm9kdWN0c0Zyb21TdG9yZSIsImdldFRvcFJhdGVkUHJvZHVjdHMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFFQTs7Ozs7Ozs7Ozs7Ozs7SUFFcUJBLFk7QUFFakIsMEJBQWM7QUFBQTs7QUFDVixTQUFLQyxVQUFMLEdBQWtCLElBQUlDLHNCQUFKLEVBQWxCO0FBQ0EsU0FBS0MsYUFBTCxHQUFxQixJQUFJQyx5QkFBSixFQUFyQjtBQUNIOzs7O3NDQUVpQkMsVSxFQUFZQyxTLEVBQVc7QUFFckNBLE1BQUFBLFNBQVMsR0FBRyxLQUFLQyxtQkFBTCxDQUF5QkQsU0FB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Q0FBQyxDQUFDUCxRQUFOO0FBQUEsaUJBQVYsQztrREFFVkssVUFBVSxDQUFDQyxHQUFYLENBQWUsVUFBQUMsQ0FBQztBQUFBLHlCQUFJQSxDQUFDLEdBQUcsS0FBSSxDQUFDckMsYUFBTCxDQUFtQitCLGtCQUFuQixDQUFzQ00sQ0FBdEMsQ0FBUjtBQUFBLGlCQUFoQixDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OzZHQUdpQlAsUTs7Ozs7QUFDeEJBLGdCQUFBQSxRQUFRLEdBQUcsS0FBSzlCLGFBQUwsQ0FBbUJzQyxjQUFuQixDQUFrQ1IsUUFBbEMsQ0FBWDs7dUJBRWEsS0FBS2hDLFVBQUwsQ0FBZ0J5QyxxQkFBaEIsQ0FBc0NULFFBQXRDLEM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7eUdBR09VLEk7Ozs7O2tEQUNiLEtBQUsxQyxVQUFMLENBQWdCMkMsaUJBQWhCLENBQWtDRCxJQUFsQyxDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O3FIQUd5QnhCLFE7Ozs7O2tEQUN6QixLQUFLbEIsVUFBTCxDQUFnQjRDLDZCQUFoQixDQUE4QzFCLFFBQTlDLEM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztrREFJQSxLQUFLbEIsVUFBTCxDQUFnQjZDLG1CQUFoQixFIiwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcVGplcmtfMlxcRGVza3RvcFxcUzQgLSBWdWUgRnJvbnRFbmRcXGxvZ2ljXFwiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUHJvZHVjdERhbyBmcm9tICdAL2RhdGEvUHJvZHVjdERhby5qcyc7XHJcbmltcG9ydCBTaG9wcGluZ0NhcnRJdGVtIGZyb20nQC9tb2RlbHMvU2hvcHBpbmdDYXJ0aXRlbS5qcyc7XHJcblxyXG5pbXBvcnQgQ2F0ZWdvcnlMb2dpYyBmcm9tICdAL2xvZ2ljL0NhdGVnb3J5TG9naWMuanMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvZHVjdExvZ2ljIHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLnByb2R1Y3REYW8gPSBuZXcgUHJvZHVjdERhbygpO1xyXG4gICAgICAgIHRoaXMuY2F0ZWdvcnlMb2dpYyA9IG5ldyBDYXRlZ29yeUxvZ2ljKCk7XHJcbiAgICB9XHJcblxyXG4gICAgYWRkVG9TaG9wcGluZ0NhcnQobmV3UHJvZHVjdCwgY2FydEl0ZW1zKSB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY2FydEl0ZW1zID0gdGhpcy5jaGVja0V4aXN0aW5nQmFza2V0KGNhcnRJdGVtcyk7XHJcblxyXG4gICAgICAgIGNhcnRJdGVtcyA9IHRoaXMuZXhpc3RzSW5CYXNrZXQobmV3UHJvZHVjdCwgY2FydEl0ZW1zKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGNhcnRJdGVtcztcclxuICAgIH0gXHJcblxyXG4gICAgcmVtb3ZlRnJvbVNob3BwaW5nQ2FydChwcm9kdWN0VG9CZVJlbW92ZWQsIGNhcnRJdGVtcykge1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNhcnRJdGVtcyA9IHRoaXMuY2hlY2tFeGlzdGluZ0Jhc2tldChjYXJ0SXRlbXMpO1xyXG4gICAgICAgIC8vcmVtb3ZlIHByb2R1Y3QgZnJvbSBzaG9wcGluZyBjYXJ0XHJcbiAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IGNhcnRJdGVtcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgY2FydEl0ZW0gPSBjYXJ0SXRlbXNbaV07XHJcbiAgICAgICAgICAgIGxldCBwcm9kdWN0ID0gY2FydEl0ZW0ucHJvZHVjdDtcclxuXHJcbiAgICAgICAgICAgIGlmKHByb2R1Y3QuaWQgPT0gcHJvZHVjdFRvQmVSZW1vdmVkLmlkKSB7XHJcbiAgICAgICAgICAgICAgICBpZihjYXJ0SXRlbS5xdWFudGl0eSA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAvL2xvd2VyIHF1YW50aXR5IGZvciBjaG9zZW4gcHJvZHVjdFxyXG4gICAgICAgICAgICAgICAgICAgIGNhcnRJdGVtLnF1YW50aXR5LS07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZihjYXJ0SXRlbS5xdWFudGl0eSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9yZW1vdmUgY2FydEl0ZW0gY29tcGxldGVseVxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBpbmRleCA9IGNhcnRJdGVtcy5pbmRleE9mKGNhcnRJdGVtKTtcclxuICAgICAgICAgICAgICAgICAgICBjYXJ0SXRlbXMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSAgXHJcbiAgICAgICAgXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjYXJ0SXRlbXM7XHJcbiAgICB9XHJcblxyXG4gICAgY2hlY2tFeGlzdGluZ0Jhc2tldChwcm9kdWN0cykge1xyXG4gICAgICAgIC8vY3JlYXRlIG5ldyBiYXNrZXQgaWYgdXNlciBkb2Vzbid0IGhhdmUgb25lICBcclxuICAgICAgICByZXR1cm4gcHJvZHVjdHMgPT0gbnVsbCA/IFtdIDogcHJvZHVjdHM7XHJcbiAgICB9XHJcblxyXG4gICAgY2FsY3VsYXRlQmFza2V0Q29zdHMoY2FydEl0ZW1zKSB7XHJcbiAgICAgICAgbGV0IHRvdGFsQ29zdHMgPSAwO1xyXG4gICAgICAgIGNhcnRJdGVtcy5mb3JFYWNoKGNhcnRJdGVtID0+IHtcclxuICAgICAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IGNhcnRJdGVtLnF1YW50aXR5OyBpKyspIHtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgcHJvZHVjdCA9IGNhcnRJdGVtLnByb2R1Y3Q7XHJcbiAgICAgICAgICAgICAgICB0b3RhbENvc3RzICs9IHByb2R1Y3QucHJpY2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdG90YWxDb3N0cy50b0ZpeGVkKDIpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFByb2R1Y3RJZHMoY2FydEl0ZW1zKSB7XHJcblxyXG4gICAgICAgIGxldCBwcm9kdWN0SWRzID0gW107XHJcblxyXG4gICAgICAgIGlmKGNhcnRJdGVtcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgY2FydEl0ZW1zLmZvckVhY2goY2FydEl0ZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBsZXQgcHJvZHVjdCA9IGNhcnRJdGVtLnByb2R1Y3Q7XHJcbiAgICAgICAgICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgY2FydEl0ZW0ucXVhbnRpdHk7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vYWRkIGVhY2ggcHJvZHVjdCBpbmRpdmlkdWFsbHlcclxuICAgICAgICAgICAgICAgICAgICBwcm9kdWN0SWRzLnB1c2gocHJvZHVjdC5pZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gcHJvZHVjdElkcztcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSByZXR1cm4gW107XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VG90YWxRdWFudGl0eShjYXJ0SXRlbXMpIHtcclxuICAgICAgICBsZXQgdG90YWxRdWFudGl0eSA9IDA7XHJcbiAgICAgICAgY2FydEl0ZW1zLmZvckVhY2goY2FydEl0ZW0gPT4ge1xyXG4gICAgICAgICAgICB0b3RhbFF1YW50aXR5ICs9IGNhcnRJdGVtLnF1YW50aXR5O1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiB0b3RhbFF1YW50aXR5O1xyXG4gICAgfVxyXG5cclxuICAgIGV4aXN0c0luQmFza2V0KHAsIGNhcnRJdGVtcykge1xyXG4gICAgICAgIGxldCBleGlzdHMgPSBmYWxzZTtcclxuICAgICAgICBjYXJ0SXRlbXMuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICAgICAgbGV0IHByb2R1Y3QgPSBpdGVtLnByb2R1Y3Q7XHJcbiAgICAgICAgICAgIGlmKHAuaWQgPT0gcHJvZHVjdC5pZCkge1xyXG4gICAgICAgICAgICAgICAgaXRlbS5xdWFudGl0eSsrO1xyXG4gICAgICAgICAgICAgICAgZXhpc3RzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjYXJ0SXRlbXM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTsgXHJcbiAgICAgICAgLy9zdGlsbCBnZXRzIHRyaWdnZXJlZCBvdGhlcndpc2Ugc29tZWhvd1xyXG4gICAgICAgIGlmKCFleGlzdHMpIHtcclxuICAgICAgICAgICAgY2FydEl0ZW1zLnB1c2gobmV3IFNob3BwaW5nQ2FydEl0ZW0ocCwgMSkpO1xyXG4gICAgICAgICAgICByZXR1cm4gY2FydEl0ZW1zO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHJldHVybiBjYXJ0SXRlbXM7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGFzeW5jIGdldFByb2R1Y3RCeUlkKGlkKSB7XHJcbiAgICAgICAgbGV0IGRhdGEgPSBhd2FpdCB0aGlzLnByb2R1Y3REYW8uZ2V0UHJvZHVjdEJ5SWQoaWQpO1xyXG4gICAgICAgIC8vY2F0ZWdvcnkgaXMgc2F2ZWQgYXMgZW51bSBvYmplY3RcclxuICAgICAgICBsZXQgY2F0ZWdvcnkgPSBkYXRhLmNhdGVnb3J5LmNhdGVnb3J5O1xyXG4gICAgICAgIGNhdGVnb3J5ID0gdGhpcy5jYXRlZ29yeUxvZ2ljLnRvUmVhZGFibGVDYXRlZ29yeShjYXRlZ29yeSk7XHJcblxyXG4gICAgICAgIGxldCBwcm9kdWN0ID0gZGF0YTtcclxuICAgICAgICBwcm9kdWN0LmNhdGVnb3J5ID0gY2F0ZWdvcnk7XHJcblxyXG4gICAgICAgIHJldHVybiBwcm9kdWN0OyAgIFxyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGFkZFByb2R1Y3QocHJvZHVjdCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnByb2R1Y3REYW8uYWRkUHJvZHVjdChwcm9kdWN0KTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyB1cGRhdGVQcm9kdWN0KHByb2R1Y3QpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5wcm9kdWN0RGFvLnVwZGF0ZVByb2R1Y3QocHJvZHVjdCk7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgZ2V0UHJvZHVjdENhdGVnb3JpZXMoKSB7XHJcbiAgICAgICAgbGV0IGRhdGEgPSBhd2FpdCB0aGlzLnByb2R1Y3REYW8uZ2V0UHJvZHVjdENhdGVnb3JpZXMoKTtcclxuXHJcbiAgICAgICAgbGV0IGNhdGVnb3JpZXMgPSBkYXRhLm1hcCh4ID0+IHguY2F0ZWdvcnkpO1xyXG5cclxuICAgICAgICByZXR1cm4gY2F0ZWdvcmllcy5tYXAoeCA9PiB4ID0gdGhpcy5jYXRlZ29yeUxvZ2ljLnRvUmVhZGFibGVDYXRlZ29yeSh4KSlcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBnZXRQcm9kdWN0c0J5Q2F0ZWdvcnkoY2F0ZWdvcnkpIHtcclxuICAgICAgICBjYXRlZ29yeSA9IHRoaXMuY2F0ZWdvcnlMb2dpYy50b1Jlc3RDYXRlZ29yeShjYXRlZ29yeSk7XHJcblxyXG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLnByb2R1Y3REYW8uZ2V0UHJvZHVjdHNCeUNhdGVnb3J5KGNhdGVnb3J5KTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBnZXRQcm9kdWN0c0J5TmFtZShuYW1lKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvZHVjdERhby5nZXRQcm9kdWN0c0J5TmFtZShuYW1lKTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyByZW1vdmVCYXNrZXRQcm9kdWN0c0Zyb21TdG9yZShwcm9kdWN0cykge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnByb2R1Y3REYW8ucmVtb3ZlQmFza2V0UHJvZHVjdHNGcm9tU3RvcmUocHJvZHVjdHMpO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGdldFRvcFJhdGVkUHJvZHVjdHMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvZHVjdERhby5nZXRUb3BSYXRlZFByb2R1Y3RzKCk7XHJcbiAgICB9XHJcbn0iXX0=
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlByb2R1Y3RMb2dpYy5qcyJdLCJuYW1lcyI6WyJQcm9kdWN0TG9naWMiLCJQcm9kdWN0RGFvIiwiQ2F0ZWdvcnlMb2dpYyIsIm5ld1Byb2R1Y3QiLCJjYXJ0SXRlbXMiLCJwcm9kdWN0VG9CZVJlbW92ZWQiLCJpIiwiY2FydEl0ZW0iLCJwcm9kdWN0IiwiaW5kZXgiLCJwcm9kdWN0cyIsInRvdGFsQ29zdHMiLCJwcm9kdWN0SWRzIiwidG90YWxRdWFudGl0eSIsInAiLCJleGlzdHMiLCJpdGVtIiwiU2hvcHBpbmdDYXJ0SXRlbSIsImlkIiwiZGF0YSIsImNhdGVnb3J5IiwiY2F0ZWdvcmllcyIsIngiLCJuYW1lIl0sIm1hcHBpbmdzIjoiNjRsQ0FBQSxHQUFBLENBQUEsV0FBQSwwQkFBQSxzQkFBQSxDQUFBLE9BQUEsQ0FBQSx1QkFBQSxDQUFBLENBQUEsQ0FBQSxDQUNBLEdBQUEsQ0FBQSxpQkFBQSwwQkFBQSxzQkFBQSxDQUFBLE9BQUEsQ0FBQSwrQkFBQSxDQUFBLENBQUEsQ0FBQSxDQUVBLEdBQUEsQ0FBQSxjQUFBLDBCQUFBLHNCQUFBLENBQUEsT0FBQSxDQUFBLG9CQUFBLENBQUEsQ0FBQSxDQUFBLEMsb3dGQUVxQkEsQ0FBQUEsWSw0RUFFakIsUUFBQSxDQUFBLFlBQUEsRUFBYyxtREFBQSxlQUFBLENBQUEsSUFBQSxDQUFBLFlBQUEsQ0FBQSxDQUFBLHlCQUNWLEtBQUEsVUFBQSxDQUFrQixHQUFJQyxDQUFBQSxXQUFBQSxDQUF0QixTQUFzQkEsQ0FBSixFQUFsQixDQURVLHlCQUVWLEtBQUEsYUFBQSxDQUFxQixHQUFJQyxDQUFBQSxjQUFBQSxDQUF6QixTQUF5QkEsQ0FBSixFQUFyQixDQUNILEMsOEdBRWlCQyxVLENBQVlDLFMsQ0FBVyxtREFFckNBLFNBQVMsQ0FBRyxLQUFBLG1CQUFBLENBQVpBLFNBQVksQ0FBWkEsQ0FGcUMseUJBSXJDQSxTQUFTLENBQUcsS0FBQSxjQUFBLENBQUEsVUFBQSxDQUFaQSxTQUFZLENBQVpBLENBSnFDLHlC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NkJBSVUsTUFBQSxVQUFBLENBQUEsb0JBQUEsRSw4REFBYlcsSSxlQUFBQSxDLDBCQUVBRSxVLENBQWEsSUFBSSxDQUFKLEdBQUEsQ0FBUyxTQUFBLENBQUEsQ0FBQyxvREFBQSxNQUFJQyxDQUFBQSxDQUFDLENBQUwsUUFBQSxDQUFWLENBQUEsQ0FBYkQsQywyREFFRyxVQUFVLENBQVYsR0FBQSxDQUFlLFNBQUEsQ0FBQSxDQUFDLG9EQUFBLE1BQUlDLENBQUFBLENBQUMsQ0FBRyxLQUFJLENBQUosYUFBQSxDQUFBLGtCQUFBLENBQVIsQ0FBUSxDQUFSLENBQWhCLENBQUEsQyw2aEJBR2lCRixRLDJTQUN4QkEsUUFBUSxDQUFHLEtBQUEsYUFBQSxDQUFBLGNBQUEsQ0FBWEEsUUFBVyxDQUFYQSxDLDJFQUVhLE1BQUEsVUFBQSxDQUFBLHFCQUFBLENBQUEsUUFBQSxDLHdvQkFHT0csSSw0VUFDYixLQUFBLFVBQUEsQ0FBQSxpQkFBQSxDQUFBLElBQUEsQyx1aUJBR3lCYixRLDRVQUN6QixLQUFBLFVBQUEsQ0FBQSw2QkFBQSxDQUFBLFFBQUEsQyxtNEJBSUEsS0FBQSxVQUFBLENBQUEsbUJBQUEsRSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBQcm9kdWN0RGFvIGZyb20gJ0AvZGF0YS9Qcm9kdWN0RGFvLmpzJztcclxuaW1wb3J0IFNob3BwaW5nQ2FydEl0ZW0gZnJvbSdAL21vZGVscy9TaG9wcGluZ0NhcnRpdGVtLmpzJztcclxuXHJcbmltcG9ydCBDYXRlZ29yeUxvZ2ljIGZyb20gJ0AvbG9naWMvQ2F0ZWdvcnlMb2dpYy5qcyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQcm9kdWN0TG9naWMge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMucHJvZHVjdERhbyA9IG5ldyBQcm9kdWN0RGFvKCk7XHJcbiAgICAgICAgdGhpcy5jYXRlZ29yeUxvZ2ljID0gbmV3IENhdGVnb3J5TG9naWMoKTtcclxuICAgIH1cclxuXHJcbiAgICBhZGRUb1Nob3BwaW5nQ2FydChuZXdQcm9kdWN0LCBjYXJ0SXRlbXMpIHtcclxuICAgICAgICBcclxuICAgICAgICBjYXJ0SXRlbXMgPSB0aGlzLmNoZWNrRXhpc3RpbmdCYXNrZXQoY2FydEl0ZW1zKTtcclxuXHJcbiAgICAgICAgY2FydEl0ZW1zID0gdGhpcy5leGlzdHNJbkJhc2tldChuZXdQcm9kdWN0LCBjYXJ0SXRlbXMpO1xyXG5cclxuICAgICAgICByZXR1cm4gY2FydEl0ZW1zO1xyXG4gICAgfSBcclxuXHJcbiAgICByZW1vdmVGcm9tU2hvcHBpbmdDYXJ0KHByb2R1Y3RUb0JlUmVtb3ZlZCwgY2FydEl0ZW1zKSB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY2FydEl0ZW1zID0gdGhpcy5jaGVja0V4aXN0aW5nQmFza2V0KGNhcnRJdGVtcyk7XHJcbiAgICAgICAgLy9yZW1vdmUgcHJvZHVjdCBmcm9tIHNob3BwaW5nIGNhcnRcclxuICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgY2FydEl0ZW1zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCBjYXJ0SXRlbSA9IGNhcnRJdGVtc1tpXTtcclxuICAgICAgICAgICAgbGV0IHByb2R1Y3QgPSBjYXJ0SXRlbS5wcm9kdWN0O1xyXG5cclxuICAgICAgICAgICAgaWYocHJvZHVjdC5pZCA9PSBwcm9kdWN0VG9CZVJlbW92ZWQuaWQpIHtcclxuICAgICAgICAgICAgICAgIGlmKGNhcnRJdGVtLnF1YW50aXR5ID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vbG93ZXIgcXVhbnRpdHkgZm9yIGNob3NlbiBwcm9kdWN0XHJcbiAgICAgICAgICAgICAgICAgICAgY2FydEl0ZW0ucXVhbnRpdHktLTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmKGNhcnRJdGVtLnF1YW50aXR5ID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAvL3JlbW92ZSBjYXJ0SXRlbSBjb21wbGV0ZWx5XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGluZGV4ID0gY2FydEl0ZW1zLmluZGV4T2YoY2FydEl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhcnRJdGVtcy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9ICBcclxuICAgICAgICBcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGNhcnRJdGVtcztcclxuICAgIH1cclxuXHJcbiAgICBjaGVja0V4aXN0aW5nQmFza2V0KHByb2R1Y3RzKSB7XHJcbiAgICAgICAgLy9jcmVhdGUgbmV3IGJhc2tldCBpZiB1c2VyIGRvZXNuJ3QgaGF2ZSBvbmUgIFxyXG4gICAgICAgIHJldHVybiBwcm9kdWN0cyA9PSBudWxsID8gW10gOiBwcm9kdWN0cztcclxuICAgIH1cclxuXHJcbiAgICBjYWxjdWxhdGVCYXNrZXRDb3N0cyhjYXJ0SXRlbXMpIHtcclxuICAgICAgICBsZXQgdG90YWxDb3N0cyA9IDA7XHJcbiAgICAgICAgY2FydEl0ZW1zLmZvckVhY2goY2FydEl0ZW0gPT4ge1xyXG4gICAgICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgY2FydEl0ZW0ucXVhbnRpdHk7IGkrKykge1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBwcm9kdWN0ID0gY2FydEl0ZW0ucHJvZHVjdDtcclxuICAgICAgICAgICAgICAgIHRvdGFsQ29zdHMgKz0gcHJvZHVjdC5wcmljZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiB0b3RhbENvc3RzLnRvRml4ZWQoMik7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0UHJvZHVjdElkcyhjYXJ0SXRlbXMpIHtcclxuXHJcbiAgICAgICAgbGV0IHByb2R1Y3RJZHMgPSBbXTtcclxuXHJcbiAgICAgICAgaWYoY2FydEl0ZW1zLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBjYXJ0SXRlbXMuZm9yRWFjaChjYXJ0SXRlbSA9PiB7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGxldCBwcm9kdWN0ID0gY2FydEl0ZW0ucHJvZHVjdDtcclxuICAgICAgICAgICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBjYXJ0SXRlbS5xdWFudGl0eTsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9hZGQgZWFjaCBwcm9kdWN0IGluZGl2aWR1YWxseVxyXG4gICAgICAgICAgICAgICAgICAgIHByb2R1Y3RJZHMucHVzaChwcm9kdWN0LmlkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiBwcm9kdWN0SWRzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHJldHVybiBbXTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRUb3RhbFF1YW50aXR5KGNhcnRJdGVtcykge1xyXG4gICAgICAgIGxldCB0b3RhbFF1YW50aXR5ID0gMDtcclxuICAgICAgICBjYXJ0SXRlbXMuZm9yRWFjaChjYXJ0SXRlbSA9PiB7XHJcbiAgICAgICAgICAgIHRvdGFsUXVhbnRpdHkgKz0gY2FydEl0ZW0ucXVhbnRpdHk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHRvdGFsUXVhbnRpdHk7XHJcbiAgICB9XHJcblxyXG4gICAgZXhpc3RzSW5CYXNrZXQocCwgY2FydEl0ZW1zKSB7XHJcbiAgICAgICAgbGV0IGV4aXN0cyA9IGZhbHNlO1xyXG4gICAgICAgIGNhcnRJdGVtcy5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICBsZXQgcHJvZHVjdCA9IGl0ZW0ucHJvZHVjdDtcclxuICAgICAgICAgICAgaWYocC5pZCA9PSBwcm9kdWN0LmlkKSB7XHJcbiAgICAgICAgICAgICAgICBpdGVtLnF1YW50aXR5Kys7XHJcbiAgICAgICAgICAgICAgICBleGlzdHMgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhcnRJdGVtcztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pOyBcclxuICAgICAgICAvL3N0aWxsIGdldHMgdHJpZ2dlcmVkIG90aGVyd2lzZSBzb21laG93XHJcbiAgICAgICAgaWYoIWV4aXN0cykge1xyXG4gICAgICAgICAgICBjYXJ0SXRlbXMucHVzaChuZXcgU2hvcHBpbmdDYXJ0SXRlbShwLCAxKSk7XHJcbiAgICAgICAgICAgIHJldHVybiBjYXJ0SXRlbXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgcmV0dXJuIGNhcnRJdGVtcztcclxuICAgIH1cclxuICAgIFxyXG4gICAgYXN5bmMgZ2V0UHJvZHVjdEJ5SWQoaWQpIHtcclxuICAgICAgICBsZXQgZGF0YSA9IGF3YWl0IHRoaXMucHJvZHVjdERhby5nZXRQcm9kdWN0QnlJZChpZCk7XHJcbiAgICAgICAgLy9jYXRlZ29yeSBpcyBzYXZlZCBhcyBlbnVtIG9iamVjdFxyXG4gICAgICAgIGxldCBjYXRlZ29yeSA9IGRhdGEuY2F0ZWdvcnkuY2F0ZWdvcnk7XHJcbiAgICAgICAgY2F0ZWdvcnkgPSB0aGlzLmNhdGVnb3J5TG9naWMudG9SZWFkYWJsZUNhdGVnb3J5KGNhdGVnb3J5KTtcclxuXHJcbiAgICAgICAgbGV0IHByb2R1Y3QgPSBkYXRhO1xyXG4gICAgICAgIHByb2R1Y3QuY2F0ZWdvcnkgPSBjYXRlZ29yeTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHByb2R1Y3Q7ICAgXHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgYWRkUHJvZHVjdChwcm9kdWN0KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvZHVjdERhby5hZGRQcm9kdWN0KHByb2R1Y3QpO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIHVwZGF0ZVByb2R1Y3QocHJvZHVjdCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnByb2R1Y3REYW8udXBkYXRlUHJvZHVjdChwcm9kdWN0KTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBnZXRQcm9kdWN0Q2F0ZWdvcmllcygpIHtcclxuICAgICAgICBsZXQgZGF0YSA9IGF3YWl0IHRoaXMucHJvZHVjdERhby5nZXRQcm9kdWN0Q2F0ZWdvcmllcygpO1xyXG5cclxuICAgICAgICBsZXQgY2F0ZWdvcmllcyA9IGRhdGEubWFwKHggPT4geC5jYXRlZ29yeSk7XHJcblxyXG4gICAgICAgIHJldHVybiBjYXRlZ29yaWVzLm1hcCh4ID0+IHggPSB0aGlzLmNhdGVnb3J5TG9naWMudG9SZWFkYWJsZUNhdGVnb3J5KHgpKVxyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGdldFByb2R1Y3RzQnlDYXRlZ29yeShjYXRlZ29yeSkge1xyXG4gICAgICAgIGNhdGVnb3J5ID0gdGhpcy5jYXRlZ29yeUxvZ2ljLnRvUmVzdENhdGVnb3J5KGNhdGVnb3J5KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMucHJvZHVjdERhby5nZXRQcm9kdWN0c0J5Q2F0ZWdvcnkoY2F0ZWdvcnkpO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGdldFByb2R1Y3RzQnlOYW1lKG5hbWUpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5wcm9kdWN0RGFvLmdldFByb2R1Y3RzQnlOYW1lKG5hbWUpO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIHJlbW92ZUJhc2tldFByb2R1Y3RzRnJvbVN0b3JlKHByb2R1Y3RzKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvZHVjdERhby5yZW1vdmVCYXNrZXRQcm9kdWN0c0Zyb21TdG9yZShwcm9kdWN0cyk7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgZ2V0VG9wUmF0ZWRQcm9kdWN0cygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5wcm9kdWN0RGFvLmdldFRvcFJhdGVkUHJvZHVjdHMoKTtcclxuICAgIH1cclxufSJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxUamVya18yXFxEZXNrdG9wXFxTNCAtIFZ1ZSBGcm9udEVuZFxcbG9naWNcXCJ9