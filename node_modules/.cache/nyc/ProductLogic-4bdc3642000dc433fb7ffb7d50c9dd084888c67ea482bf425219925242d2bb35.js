"use strict";function cov_23gaygbfoz(){var path="C:\\Users\\Tjerk_2\\Desktop\\S4 - Vue FrontEnd\\logic\\ProductLogic.js";var hash="584ddecebad35f4b2b1c5a2361430d73cc79968b";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\Tjerk_2\\Desktop\\S4 - Vue FrontEnd\\logic\\ProductLogic.js",statementMap:{"0":{start:{line:3,column:23},end:{line:3,column:63}},"1":{start:{line:6,column:2},end:{line:6,column:45}},"2":{start:{line:7,column:2},end:{line:7,column:52}},"3":{start:{line:8,column:2},end:{line:8,column:19}},"4":{start:{line:12,column:2},end:{line:12,column:45}},"5":{start:{line:14,column:2},end:{line:30,column:3}},"6":{start:{line:14,column:15},end:{line:14,column:16}},"7":{start:{line:15,column:19},end:{line:15,column:31}},"8":{start:{line:16,column:18},end:{line:16,column:34}},"9":{start:{line:18,column:4},end:{line:29,column:5}},"10":{start:{line:19,column:6},end:{line:22,column:7}},"11":{start:{line:21,column:8},end:{line:21,column:28}},"12":{start:{line:24,column:6},end:{line:28,column:7}},"13":{start:{line:26,column:20},end:{line:26,column:47}},"14":{start:{line:27,column:8},end:{line:27,column:35}},"15":{start:{line:32,column:2},end:{line:32,column:19}},"16":{start:{line:37,column:2},end:{line:37,column:42}},"17":{start:{line:41,column:19},end:{line:41,column:20}},"18":{start:{line:42,column:2},end:{line:47,column:5}},"19":{start:{line:43,column:4},end:{line:46,column:5}},"20":{start:{line:43,column:17},end:{line:43,column:18}},"21":{start:{line:44,column:20},end:{line:44,column:36}},"22":{start:{line:45,column:6},end:{line:45,column:34}},"23":{start:{line:48,column:2},end:{line:48,column:31}},"24":{start:{line:52,column:19},end:{line:52,column:21}},"25":{start:{line:54,column:2},end:{line:64,column:19}},"26":{start:{line:55,column:4},end:{line:62,column:7}},"27":{start:{line:56,column:20},end:{line:56,column:36}},"28":{start:{line:58,column:6},end:{line:61,column:7}},"29":{start:{line:58,column:19},end:{line:58,column:20}},"30":{start:{line:60,column:8},end:{line:60,column:36}},"31":{start:{line:63,column:4},end:{line:63,column:22}},"32":{start:{line:64,column:9},end:{line:64,column:19}},"33":{start:{line:68,column:22},end:{line:68,column:23}},"34":{start:{line:69,column:2},end:{line:71,column:5}},"35":{start:{line:70,column:4},end:{line:70,column:39}},"36":{start:{line:72,column:2},end:{line:72,column:23}},"37":{start:{line:76,column:15},end:{line:76,column:20}},"38":{start:{line:77,column:2},end:{line:85,column:5}},"39":{start:{line:78,column:18},end:{line:78,column:30}},"40":{start:{line:80,column:4},end:{line:84,column:5}},"41":{start:{line:81,column:6},end:{line:81,column:22}},"42":{start:{line:82,column:6},end:{line:82,column:20}},"43":{start:{line:83,column:6},end:{line:83,column:23}},"44":{start:{line:87,column:2},end:{line:90,column:26}},"45":{start:{line:88,column:4},end:{line:88,column:47}},"46":{start:{line:89,column:4},end:{line:89,column:21}},"47":{start:{line:90,column:9},end:{line:90,column:26}},"48":{start:{line:93,column:0},end:{line:101,column:2}}},fnMap:{"0":{name:"addToShoppingCart",decl:{start:{line:5,column:9},end:{line:5,column:26}},loc:{start:{line:5,column:50},end:{line:9,column:1}},line:5},"1":{name:"removeFromShoppingCart",decl:{start:{line:11,column:9},end:{line:11,column:31}},loc:{start:{line:11,column:63},end:{line:33,column:1}},line:11},"2":{name:"checkExistingBasket",decl:{start:{line:35,column:9},end:{line:35,column:28}},loc:{start:{line:35,column:39},end:{line:38,column:1}},line:35},"3":{name:"calculateBasketCosts",decl:{start:{line:40,column:9},end:{line:40,column:29}},loc:{start:{line:40,column:41},end:{line:49,column:1}},line:40},"4":{name:"(anonymous_4)",decl:{start:{line:42,column:20},end:{line:42,column:21}},loc:{start:{line:42,column:40},end:{line:47,column:3}},line:42},"5":{name:"getProductIds",decl:{start:{line:51,column:9},end:{line:51,column:22}},loc:{start:{line:51,column:34},end:{line:65,column:1}},line:51},"6":{name:"(anonymous_6)",decl:{start:{line:55,column:22},end:{line:55,column:23}},loc:{start:{line:55,column:42},end:{line:62,column:5}},line:55},"7":{name:"getTotalQuantity",decl:{start:{line:67,column:9},end:{line:67,column:25}},loc:{start:{line:67,column:37},end:{line:73,column:1}},line:67},"8":{name:"(anonymous_8)",decl:{start:{line:69,column:20},end:{line:69,column:21}},loc:{start:{line:69,column:40},end:{line:71,column:3}},line:69},"9":{name:"existsInBasket",decl:{start:{line:75,column:9},end:{line:75,column:23}},loc:{start:{line:75,column:38},end:{line:91,column:1}},line:75},"10":{name:"(anonymous_10)",decl:{start:{line:77,column:20},end:{line:77,column:21}},loc:{start:{line:77,column:36},end:{line:85,column:3}},line:77}},branchMap:{"0":{loc:{start:{line:18,column:4},end:{line:29,column:5}},type:"if",locations:[{start:{line:18,column:4},end:{line:29,column:5}},{start:{line:18,column:4},end:{line:29,column:5}}],line:18},"1":{loc:{start:{line:19,column:6},end:{line:22,column:7}},type:"if",locations:[{start:{line:19,column:6},end:{line:22,column:7}},{start:{line:19,column:6},end:{line:22,column:7}}],line:19},"2":{loc:{start:{line:24,column:6},end:{line:28,column:7}},type:"if",locations:[{start:{line:24,column:6},end:{line:28,column:7}},{start:{line:24,column:6},end:{line:28,column:7}}],line:24},"3":{loc:{start:{line:37,column:9},end:{line:37,column:41}},type:"cond-expr",locations:[{start:{line:37,column:28},end:{line:37,column:30}},{start:{line:37,column:33},end:{line:37,column:41}}],line:37},"4":{loc:{start:{line:54,column:2},end:{line:64,column:19}},type:"if",locations:[{start:{line:54,column:2},end:{line:64,column:19}},{start:{line:54,column:2},end:{line:64,column:19}}],line:54},"5":{loc:{start:{line:80,column:4},end:{line:84,column:5}},type:"if",locations:[{start:{line:80,column:4},end:{line:84,column:5}},{start:{line:80,column:4},end:{line:84,column:5}}],line:80},"6":{loc:{start:{line:87,column:2},end:{line:90,column:26}},type:"if",locations:[{start:{line:87,column:2},end:{line:90,column:26}},{start:{line:87,column:2},end:{line:90,column:26}}],line:87}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0]},inputSourceMap:{version:3,sources:["ProductLogic.js"],names:["ShoppingCartItem","require","addToShoppingCart","newProduct","cartItems","checkExistingBasket","existsInBasket","removeFromShoppingCart","productToBeRemoved","i","length","cartItem","product","id","quantity","index","indexOf","splice","products","calculateBasketCosts","totalCosts","forEach","price","toFixed","getProductIds","productIds","push","getTotalQuantity","totalQuantity","p","exists","item","module","exports"],mappings:"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",sourceRoot:"C:\\Users\\Tjerk_2\\Desktop\\S4 - Vue FrontEnd\\logic\\",sourcesContent:["   const ShoppingCartItem = require('@/models/ShoppingCartitem.js');\r\n   \r\n   function addToShoppingCart(newProduct, cartItems) {\r\n        \r\n        cartItems = checkExistingBasket(cartItems);\r\n\r\n        cartItems = existsInBasket(newProduct, cartItems);\r\n\r\n        return cartItems;\r\n    } \r\n    \r\n    function removeFromShoppingCart(productToBeRemoved, cartItems) {\r\n        \r\n        cartItems = checkExistingBasket(cartItems);\r\n        //remove product from shopping cart\r\n        for(let i = 0; i < cartItems.length; i++) {\r\n            let cartItem = cartItems[i];\r\n            let product = cartItem.product;\r\n\r\n            if(product.id == productToBeRemoved.id) {\r\n                if(cartItem.quantity > 0) {\r\n                    //lower quantity for chosen product\r\n                    cartItem.quantity--;\r\n                }\r\n                if(cartItem.quantity == 0) {\r\n                    //remove cartItem completely\r\n                    let index = cartItems.indexOf(cartItem);\r\n                    cartItems.splice(index, 1);\r\n                }\r\n            }  \r\n     \r\n        }\r\n        return cartItems;\r\n    }\r\n    \r\n    function checkExistingBasket(products) {\r\n        //create new basket if user doesn't have one  \r\n        return products == null ? [] : products;\r\n    }\r\n\r\n    function calculateBasketCosts(cartItems) {\r\n        let totalCosts = 0;\r\n        cartItems.forEach(cartItem => {\r\n            for(let i = 0; i < cartItem.quantity; i++) {\r\n\r\n                let product = cartItem.product;\r\n                totalCosts += product.price;\r\n            }\r\n        });\r\n        return totalCosts.toFixed(2);\r\n    }\r\n\r\n    function getProductIds(cartItems) {\r\n\r\n        let productIds = [];\r\n\r\n        if(cartItems.length) {\r\n            cartItems.forEach(cartItem => {\r\n                \r\n                let product = cartItem.product;\r\n                for(let i = 0; i < cartItem.quantity; i++) {\r\n                    //add each product individually\r\n                    productIds.push(product.id);\r\n                }\r\n            });\r\n            return productIds;\r\n        }\r\n        else return [];\r\n    }\r\n\r\n    function getTotalQuantity(cartItems) {\r\n        let totalQuantity = 0;\r\n        cartItems.forEach(cartItem => {\r\n            totalQuantity += cartItem.quantity;\r\n        });\r\n        return totalQuantity;\r\n    }\r\n\r\n    function existsInBasket(p, cartItems) {\r\n        let exists = false;\r\n        cartItems.forEach(item => {\r\n            let product = item.product;\r\n            if(p.id == product.id) {\r\n                item.quantity++;\r\n                exists = true;\r\n                return cartItems;\r\n            }\r\n        }); \r\n        //still gets triggered otherwise somehow\r\n        if(!exists) {\r\n            cartItems.push(new ShoppingCartItem(p, 1));\r\n            return cartItems;\r\n        }\r\n        else return cartItems;\r\n    }\r\n\r\n    module.exports = {\r\n        addToShoppingCart,\r\n        removeFromShoppingCart,\r\n        checkExistingBasket,\r\n        calculateBasketCosts,\r\n        getProductIds,\r\n        getTotalQuantity,\r\n        existsInBasket,\r\n    }"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"584ddecebad35f4b2b1c5a2361430d73cc79968b"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];cov_23gaygbfoz=function(){return actualCoverage;};return actualCoverage;}cov_23gaygbfoz();var ShoppingCartItem=(cov_23gaygbfoz().s[0]++,require("../models/ShoppingCartitem.js"));function addToShoppingCart(newProduct,cartItems){cov_23gaygbfoz().f[0]++;cov_23gaygbfoz().s[1]++;cartItems=checkExistingBasket(cartItems);cov_23gaygbfoz().s[2]++;cartItems=existsInBasket(newProduct,cartItems);cov_23gaygbfoz().s[3]++;return cartItems;}function removeFromShoppingCart(productToBeRemoved,cartItems){cov_23gaygbfoz().f[1]++;cov_23gaygbfoz().s[4]++;cartItems=checkExistingBasket(cartItems);//remove product from shopping cart
cov_23gaygbfoz().s[5]++;for(var i=(cov_23gaygbfoz().s[6]++,0);i<cartItems.length;i++){var cartItem=(cov_23gaygbfoz().s[7]++,cartItems[i]);var product=(cov_23gaygbfoz().s[8]++,cartItem.product);cov_23gaygbfoz().s[9]++;if(product.id==productToBeRemoved.id){cov_23gaygbfoz().b[0][0]++;cov_23gaygbfoz().s[10]++;if(cartItem.quantity>0){cov_23gaygbfoz().b[1][0]++;cov_23gaygbfoz().s[11]++;//lower quantity for chosen product
cartItem.quantity--;}else{cov_23gaygbfoz().b[1][1]++;}cov_23gaygbfoz().s[12]++;if(cartItem.quantity==0){cov_23gaygbfoz().b[2][0]++;//remove cartItem completely
var index=(cov_23gaygbfoz().s[13]++,cartItems.indexOf(cartItem));cov_23gaygbfoz().s[14]++;cartItems.splice(index,1);}else{cov_23gaygbfoz().b[2][1]++;}}else{cov_23gaygbfoz().b[0][1]++;}}cov_23gaygbfoz().s[15]++;return cartItems;}function checkExistingBasket(products){cov_23gaygbfoz().f[2]++;cov_23gaygbfoz().s[16]++;//create new basket if user doesn't have one  
return products==null?(cov_23gaygbfoz().b[3][0]++,[]):(cov_23gaygbfoz().b[3][1]++,products);}function calculateBasketCosts(cartItems){cov_23gaygbfoz().f[3]++;var totalCosts=(cov_23gaygbfoz().s[17]++,0);cov_23gaygbfoz().s[18]++;cartItems.forEach(function(cartItem){cov_23gaygbfoz().f[4]++;cov_23gaygbfoz().s[19]++;for(var i=(cov_23gaygbfoz().s[20]++,0);i<cartItem.quantity;i++){var product=(cov_23gaygbfoz().s[21]++,cartItem.product);cov_23gaygbfoz().s[22]++;totalCosts+=product.price;}});cov_23gaygbfoz().s[23]++;return totalCosts.toFixed(2);}function getProductIds(cartItems){cov_23gaygbfoz().f[5]++;var productIds=(cov_23gaygbfoz().s[24]++,[]);cov_23gaygbfoz().s[25]++;if(cartItems.length){cov_23gaygbfoz().b[4][0]++;cov_23gaygbfoz().s[26]++;cartItems.forEach(function(cartItem){cov_23gaygbfoz().f[6]++;var product=(cov_23gaygbfoz().s[27]++,cartItem.product);cov_23gaygbfoz().s[28]++;for(var i=(cov_23gaygbfoz().s[29]++,0);i<cartItem.quantity;i++){cov_23gaygbfoz().s[30]++;//add each product individually
productIds.push(product.id);}});cov_23gaygbfoz().s[31]++;return productIds;}else{cov_23gaygbfoz().b[4][1]++;cov_23gaygbfoz().s[32]++;return[];}}function getTotalQuantity(cartItems){cov_23gaygbfoz().f[7]++;var totalQuantity=(cov_23gaygbfoz().s[33]++,0);cov_23gaygbfoz().s[34]++;cartItems.forEach(function(cartItem){cov_23gaygbfoz().f[8]++;cov_23gaygbfoz().s[35]++;totalQuantity+=cartItem.quantity;});cov_23gaygbfoz().s[36]++;return totalQuantity;}function existsInBasket(p,cartItems){cov_23gaygbfoz().f[9]++;var exists=(cov_23gaygbfoz().s[37]++,false);cov_23gaygbfoz().s[38]++;cartItems.forEach(function(item){cov_23gaygbfoz().f[10]++;var product=(cov_23gaygbfoz().s[39]++,item.product);cov_23gaygbfoz().s[40]++;if(p.id==product.id){cov_23gaygbfoz().b[5][0]++;cov_23gaygbfoz().s[41]++;item.quantity++;cov_23gaygbfoz().s[42]++;exists=true;cov_23gaygbfoz().s[43]++;return cartItems;}else{cov_23gaygbfoz().b[5][1]++;}});//still gets triggered otherwise somehow
cov_23gaygbfoz().s[44]++;if(!exists){cov_23gaygbfoz().b[6][0]++;cov_23gaygbfoz().s[45]++;cartItems.push(new ShoppingCartItem(p,1));cov_23gaygbfoz().s[46]++;return cartItems;}else{cov_23gaygbfoz().b[6][1]++;cov_23gaygbfoz().s[47]++;return cartItems;}}cov_23gaygbfoz().s[48]++;module.exports={addToShoppingCart:addToShoppingCart,removeFromShoppingCart:removeFromShoppingCart,checkExistingBasket:checkExistingBasket,calculateBasketCosts:calculateBasketCosts,getProductIds:getProductIds,getTotalQuantity:getTotalQuantity,existsInBasket:existsInBasket};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlByb2R1Y3RMb2dpYy5qcyJdLCJuYW1lcyI6WyJTaG9wcGluZ0NhcnRJdGVtIiwicmVxdWlyZSIsImFkZFRvU2hvcHBpbmdDYXJ0IiwibmV3UHJvZHVjdCIsImNhcnRJdGVtcyIsImNoZWNrRXhpc3RpbmdCYXNrZXQiLCJleGlzdHNJbkJhc2tldCIsInJlbW92ZUZyb21TaG9wcGluZ0NhcnQiLCJwcm9kdWN0VG9CZVJlbW92ZWQiLCJpIiwibGVuZ3RoIiwiY2FydEl0ZW0iLCJwcm9kdWN0IiwiaWQiLCJxdWFudGl0eSIsImluZGV4IiwiaW5kZXhPZiIsInNwbGljZSIsInByb2R1Y3RzIiwiY2FsY3VsYXRlQmFza2V0Q29zdHMiLCJ0b3RhbENvc3RzIiwiZm9yRWFjaCIsInByaWNlIiwidG9GaXhlZCIsImdldFByb2R1Y3RJZHMiLCJwcm9kdWN0SWRzIiwicHVzaCIsImdldFRvdGFsUXVhbnRpdHkiLCJ0b3RhbFF1YW50aXR5IiwicCIsImV4aXN0cyIsIml0ZW0iLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFHLElBQU1BLGdCQUFnQixHQUFHQyxPQUFPLGlDQUFoQzs7QUFFQSxTQUFTQyxpQkFBVCxDQUEyQkMsVUFBM0IsRUFBdUNDLFNBQXZDLEVBQWtEO0FBRTdDQSxFQUFBQSxTQUFTLEdBQUdDLG1CQUFtQixDQUFDRCxTQUFELENBQS9CO0FBRUFBLEVBQUFBLFNBQVMsR0FBR0UsY0FBYyxDQUFDSCxVQUFELEVBQWFDLFNBQWIsQ0FBMUI7QUFFQSxTQUFPQSxTQUFQO0FBQ0g7O0FBRUQsU0FBU0csc0JBQVQsQ0FBZ0NDLGtCQUFoQyxFQUFvREosU0FBcEQsRUFBK0Q7QUFFM0RBLEVBQUFBLFNBQVMsR0FBR0MsbUJBQW1CLENBQUNELFNBQUQsQ0FBL0IsQ0FGMkQsQ0FHM0Q7O0FBQ0EsT0FBSSxJQUFJSyxDQUFDLEdBQUcsQ0FBWixFQUFlQSxDQUFDLEdBQUdMLFNBQVMsQ0FBQ00sTUFBN0IsRUFBcUNELENBQUMsRUFBdEMsRUFBMEM7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RmtDLENBVWxDOztBQUNBLE1BQUcsQ0FBQzBCLE1BQUosRUFBWTtBQUNSMUIsSUFBQUEsU0FBUyxDQUFDc0IsSUFBVixDQUFlLElBQUkxQixnQkFBSixDQUFxQjZCLENBQXJCLEVBQXdCLENBQXhCLENBQWY7QUFDQSxXQUFPekIsU0FBUDtBQUNILEdBSEQsTUFJSyxPQUFPQSxTQUFQO0FBQ1I7O0FBRUQ0QixNQUFNLENBQUNDLE9BQVAsR0FBaUI7QUFDYi9CLEVBQUFBLGlCQUFpQixFQUFqQkEsaUJBRGE7QUFFYkssRUFBQUEsc0JBQXNCLEVBQXRCQSxzQkFGYTtBQUdiRixFQUFBQSxtQkFBbUIsRUFBbkJBLG1CQUhhO0FBSWJjLEVBQUFBLG9CQUFvQixFQUFwQkEsb0JBSmE7QUFLYkssRUFBQUEsYUFBYSxFQUFiQSxhQUxhO0FBTWJHLEVBQUFBLGdCQUFnQixFQUFoQkEsZ0JBTmE7QUFPYnJCLEVBQUFBLGNBQWMsRUFBZEE7QUFQYSxDQUFqQiIsInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXFRqZXJrXzJcXERlc2t0b3BcXFM0IC0gVnVlIEZyb250RW5kXFxsb2dpY1xcIiwic291cmNlc0NvbnRlbnQiOlsiICAgY29uc3QgU2hvcHBpbmdDYXJ0SXRlbSA9IHJlcXVpcmUoJ0AvbW9kZWxzL1Nob3BwaW5nQ2FydGl0ZW0uanMnKTtcclxuICAgXHJcbiAgIGZ1bmN0aW9uIGFkZFRvU2hvcHBpbmdDYXJ0KG5ld1Byb2R1Y3QsIGNhcnRJdGVtcykge1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNhcnRJdGVtcyA9IGNoZWNrRXhpc3RpbmdCYXNrZXQoY2FydEl0ZW1zKTtcclxuXHJcbiAgICAgICAgY2FydEl0ZW1zID0gZXhpc3RzSW5CYXNrZXQobmV3UHJvZHVjdCwgY2FydEl0ZW1zKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGNhcnRJdGVtcztcclxuICAgIH0gXHJcbiAgICBcclxuICAgIGZ1bmN0aW9uIHJlbW92ZUZyb21TaG9wcGluZ0NhcnQocHJvZHVjdFRvQmVSZW1vdmVkLCBjYXJ0SXRlbXMpIHtcclxuICAgICAgICBcclxuICAgICAgICBjYXJ0SXRlbXMgPSBjaGVja0V4aXN0aW5nQmFza2V0KGNhcnRJdGVtcyk7XHJcbiAgICAgICAgLy9yZW1vdmUgcHJvZHVjdCBmcm9tIHNob3BwaW5nIGNhcnRcclxuICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgY2FydEl0ZW1zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCBjYXJ0SXRlbSA9IGNhcnRJdGVtc1tpXTtcclxuICAgICAgICAgICAgbGV0IHByb2R1Y3QgPSBjYXJ0SXRlbS5wcm9kdWN0O1xyXG5cclxuICAgICAgICAgICAgaWYocHJvZHVjdC5pZCA9PSBwcm9kdWN0VG9CZVJlbW92ZWQuaWQpIHtcclxuICAgICAgICAgICAgICAgIGlmKGNhcnRJdGVtLnF1YW50aXR5ID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vbG93ZXIgcXVhbnRpdHkgZm9yIGNob3NlbiBwcm9kdWN0XHJcbiAgICAgICAgICAgICAgICAgICAgY2FydEl0ZW0ucXVhbnRpdHktLTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmKGNhcnRJdGVtLnF1YW50aXR5ID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAvL3JlbW92ZSBjYXJ0SXRlbSBjb21wbGV0ZWx5XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGluZGV4ID0gY2FydEl0ZW1zLmluZGV4T2YoY2FydEl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhcnRJdGVtcy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9ICBcclxuICAgICBcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGNhcnRJdGVtcztcclxuICAgIH1cclxuICAgIFxyXG4gICAgZnVuY3Rpb24gY2hlY2tFeGlzdGluZ0Jhc2tldChwcm9kdWN0cykge1xyXG4gICAgICAgIC8vY3JlYXRlIG5ldyBiYXNrZXQgaWYgdXNlciBkb2Vzbid0IGhhdmUgb25lICBcclxuICAgICAgICByZXR1cm4gcHJvZHVjdHMgPT0gbnVsbCA/IFtdIDogcHJvZHVjdHM7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY2FsY3VsYXRlQmFza2V0Q29zdHMoY2FydEl0ZW1zKSB7XHJcbiAgICAgICAgbGV0IHRvdGFsQ29zdHMgPSAwO1xyXG4gICAgICAgIGNhcnRJdGVtcy5mb3JFYWNoKGNhcnRJdGVtID0+IHtcclxuICAgICAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IGNhcnRJdGVtLnF1YW50aXR5OyBpKyspIHtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgcHJvZHVjdCA9IGNhcnRJdGVtLnByb2R1Y3Q7XHJcbiAgICAgICAgICAgICAgICB0b3RhbENvc3RzICs9IHByb2R1Y3QucHJpY2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdG90YWxDb3N0cy50b0ZpeGVkKDIpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldFByb2R1Y3RJZHMoY2FydEl0ZW1zKSB7XHJcblxyXG4gICAgICAgIGxldCBwcm9kdWN0SWRzID0gW107XHJcblxyXG4gICAgICAgIGlmKGNhcnRJdGVtcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgY2FydEl0ZW1zLmZvckVhY2goY2FydEl0ZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBsZXQgcHJvZHVjdCA9IGNhcnRJdGVtLnByb2R1Y3Q7XHJcbiAgICAgICAgICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgY2FydEl0ZW0ucXVhbnRpdHk7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vYWRkIGVhY2ggcHJvZHVjdCBpbmRpdmlkdWFsbHlcclxuICAgICAgICAgICAgICAgICAgICBwcm9kdWN0SWRzLnB1c2gocHJvZHVjdC5pZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gcHJvZHVjdElkcztcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSByZXR1cm4gW107XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0VG90YWxRdWFudGl0eShjYXJ0SXRlbXMpIHtcclxuICAgICAgICBsZXQgdG90YWxRdWFudGl0eSA9IDA7XHJcbiAgICAgICAgY2FydEl0ZW1zLmZvckVhY2goY2FydEl0ZW0gPT4ge1xyXG4gICAgICAgICAgICB0b3RhbFF1YW50aXR5ICs9IGNhcnRJdGVtLnF1YW50aXR5O1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiB0b3RhbFF1YW50aXR5O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGV4aXN0c0luQmFza2V0KHAsIGNhcnRJdGVtcykge1xyXG4gICAgICAgIGxldCBleGlzdHMgPSBmYWxzZTtcclxuICAgICAgICBjYXJ0SXRlbXMuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICAgICAgbGV0IHByb2R1Y3QgPSBpdGVtLnByb2R1Y3Q7XHJcbiAgICAgICAgICAgIGlmKHAuaWQgPT0gcHJvZHVjdC5pZCkge1xyXG4gICAgICAgICAgICAgICAgaXRlbS5xdWFudGl0eSsrO1xyXG4gICAgICAgICAgICAgICAgZXhpc3RzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjYXJ0SXRlbXM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTsgXHJcbiAgICAgICAgLy9zdGlsbCBnZXRzIHRyaWdnZXJlZCBvdGhlcndpc2Ugc29tZWhvd1xyXG4gICAgICAgIGlmKCFleGlzdHMpIHtcclxuICAgICAgICAgICAgY2FydEl0ZW1zLnB1c2gobmV3IFNob3BwaW5nQ2FydEl0ZW0ocCwgMSkpO1xyXG4gICAgICAgICAgICByZXR1cm4gY2FydEl0ZW1zO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHJldHVybiBjYXJ0SXRlbXM7XHJcbiAgICB9XHJcblxyXG4gICAgbW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICAgICAgYWRkVG9TaG9wcGluZ0NhcnQsXHJcbiAgICAgICAgcmVtb3ZlRnJvbVNob3BwaW5nQ2FydCxcclxuICAgICAgICBjaGVja0V4aXN0aW5nQmFza2V0LFxyXG4gICAgICAgIGNhbGN1bGF0ZUJhc2tldENvc3RzLFxyXG4gICAgICAgIGdldFByb2R1Y3RJZHMsXHJcbiAgICAgICAgZ2V0VG90YWxRdWFudGl0eSxcclxuICAgICAgICBleGlzdHNJbkJhc2tldCxcclxuICAgIH0iXX0=
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlByb2R1Y3RMb2dpYy5qcyJdLCJuYW1lcyI6WyJTaG9wcGluZ0NhcnRJdGVtIiwicmVxdWlyZSIsImNhcnRJdGVtcyIsImNoZWNrRXhpc3RpbmdCYXNrZXQiLCJleGlzdHNJbkJhc2tldCIsImkiLCJjYXJ0SXRlbSIsInByb2R1Y3QiLCJwcm9kdWN0VG9CZVJlbW92ZWQiLCJpbmRleCIsInByb2R1Y3RzIiwidG90YWxDb3N0cyIsInByb2R1Y3RJZHMiLCJ0b3RhbFF1YW50aXR5IiwiZXhpc3RzIiwiaXRlbSIsInAiLCJtb2R1bGUiLCJhZGRUb1Nob3BwaW5nQ2FydCIsInJlbW92ZUZyb21TaG9wcGluZ0NhcnQiLCJjYWxjdWxhdGVCYXNrZXRDb3N0cyIsImdldFByb2R1Y3RJZHMiLCJnZXRUb3RhbFF1YW50aXR5Il0sIm1hcHBpbmdzIjoieXBhQUFHLEdBQU1BLENBQUFBLGdCQUFnQiwwQkFBR0MsT0FBTyxDQUFoQywrQkFBZ0MsQ0FBVixDQUF0QixDQUVBLFFBQUEsQ0FBQSxpQkFBQSxDQUFBLFVBQUEsQ0FBQSxTQUFBLENBQWtELGlEQUU3Q0MsU0FBUyxDQUFHQyxtQkFBbUIsQ0FBL0JELFNBQStCLENBQS9CQSxDQUY2Qyx3QkFJN0NBLFNBQVMsQ0FBR0UsY0FBYyxDQUFBLFVBQUEsQ0FBMUJGLFNBQTBCLENBQTFCQSxDQUo2Qyx3QkFNN0MsTUFBQSxDQUFBLFNBQUEsQ0FDSCxDQUVELFFBQUEsQ0FBQSxzQkFBQSxDQUFBLGtCQUFBLENBQUEsU0FBQSxDQUErRCxpREFFM0RBLFNBQVMsQ0FBR0MsbUJBQW1CLENBRjRCLFNBRTVCLENBQS9CRCxDQUNBO0FBSDJELHdCQUkzRCxJQUFJLEdBQUlHLENBQUFBLENBQUMsMEJBQVQsQ0FBUyxDQUFULENBQWVBLENBQUMsQ0FBR0gsU0FBUyxDQUE1QixNQUFBLENBQXFDRyxDQUFyQyxFQUFBLENBQTBDLENBQ3RDLEdBQUlDLENBQUFBLFFBQVEsMEJBQUdKLFNBQVMsQ0FBeEIsQ0FBd0IsQ0FBWixDQUFaLENBQ0Es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SUFBSSxDQUFsQixPQUFXLENBQVgsQ0FEc0IseUJBRXRCLEdBQUdDLENBQUMsQ0FBREEsRUFBQUEsRUFBUVQsT0FBTyxDQUFsQixFQUFBLENBQXVCLHFEQUNuQlEsSUFBSSxDQUFKQSxRQUFBQSxHQURtQix5QkFFbkJELE1BQU0sQ0FBTkEsSUFBQUEsQ0FGbUIseUJBR25CLE1BQUEsQ0FBQSxTQUFBLENBQ0gsQ0FKRCxpQ0FKOEIsQ0FFbENaLEVBUUE7QUFWa0MseUJBV2xDLEdBQUcsQ0FBSCxNQUFBLENBQVkscURBQ1JBLFNBQVMsQ0FBVEEsSUFBQUEsQ0FBZSxHQUFBLENBQUEsZ0JBQUEsQ0FBQSxDQUFBLENBQWZBLENBQWUsQ0FBZkEsRUFEUSx5QkFFUixNQUFBLENBQUEsU0FBQSxDQUZKLENBQUEsSUFJSywyREFBQSxDQUFBLFNBQUEsQ0FBQSxDQUNSLEMseUJBRURlLE1BQU0sQ0FBTkEsT0FBQUEsQ0FBaUIsQ0FDYkMsaUJBQWlCLENBREosaUJBQUEsQ0FFYkMsc0JBQXNCLENBRlQsc0JBQUEsQ0FHYmhCLG1CQUFtQixDQUhOLG1CQUFBLENBSWJpQixvQkFBb0IsQ0FKUCxvQkFBQSxDQUtiQyxhQUFhLENBTEEsYUFBQSxDQU1iQyxnQkFBZ0IsQ0FOSCxnQkFBQSxDQU9ibEIsY0FBYyxDQUFkQSxjQVBhLENBQWpCYSxDIiwic291cmNlc0NvbnRlbnQiOlsiICAgY29uc3QgU2hvcHBpbmdDYXJ0SXRlbSA9IHJlcXVpcmUoJ0AvbW9kZWxzL1Nob3BwaW5nQ2FydGl0ZW0uanMnKTtcclxuICAgXHJcbiAgIGZ1bmN0aW9uIGFkZFRvU2hvcHBpbmdDYXJ0KG5ld1Byb2R1Y3QsIGNhcnRJdGVtcykge1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNhcnRJdGVtcyA9IGNoZWNrRXhpc3RpbmdCYXNrZXQoY2FydEl0ZW1zKTtcclxuXHJcbiAgICAgICAgY2FydEl0ZW1zID0gZXhpc3RzSW5CYXNrZXQobmV3UHJvZHVjdCwgY2FydEl0ZW1zKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGNhcnRJdGVtcztcclxuICAgIH0gXHJcbiAgICBcclxuICAgIGZ1bmN0aW9uIHJlbW92ZUZyb21TaG9wcGluZ0NhcnQocHJvZHVjdFRvQmVSZW1vdmVkLCBjYXJ0SXRlbXMpIHtcclxuICAgICAgICBcclxuICAgICAgICBjYXJ0SXRlbXMgPSBjaGVja0V4aXN0aW5nQmFza2V0KGNhcnRJdGVtcyk7XHJcbiAgICAgICAgLy9yZW1vdmUgcHJvZHVjdCBmcm9tIHNob3BwaW5nIGNhcnRcclxuICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgY2FydEl0ZW1zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCBjYXJ0SXRlbSA9IGNhcnRJdGVtc1tpXTtcclxuICAgICAgICAgICAgbGV0IHByb2R1Y3QgPSBjYXJ0SXRlbS5wcm9kdWN0O1xyXG5cclxuICAgICAgICAgICAgaWYocHJvZHVjdC5pZCA9PSBwcm9kdWN0VG9CZVJlbW92ZWQuaWQpIHtcclxuICAgICAgICAgICAgICAgIGlmKGNhcnRJdGVtLnF1YW50aXR5ID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vbG93ZXIgcXVhbnRpdHkgZm9yIGNob3NlbiBwcm9kdWN0XHJcbiAgICAgICAgICAgICAgICAgICAgY2FydEl0ZW0ucXVhbnRpdHktLTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmKGNhcnRJdGVtLnF1YW50aXR5ID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAvL3JlbW92ZSBjYXJ0SXRlbSBjb21wbGV0ZWx5XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGluZGV4ID0gY2FydEl0ZW1zLmluZGV4T2YoY2FydEl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhcnRJdGVtcy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9ICBcclxuICAgICBcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGNhcnRJdGVtcztcclxuICAgIH1cclxuICAgIFxyXG4gICAgZnVuY3Rpb24gY2hlY2tFeGlzdGluZ0Jhc2tldChwcm9kdWN0cykge1xyXG4gICAgICAgIC8vY3JlYXRlIG5ldyBiYXNrZXQgaWYgdXNlciBkb2Vzbid0IGhhdmUgb25lICBcclxuICAgICAgICByZXR1cm4gcHJvZHVjdHMgPT0gbnVsbCA/IFtdIDogcHJvZHVjdHM7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY2FsY3VsYXRlQmFza2V0Q29zdHMoY2FydEl0ZW1zKSB7XHJcbiAgICAgICAgbGV0IHRvdGFsQ29zdHMgPSAwO1xyXG4gICAgICAgIGNhcnRJdGVtcy5mb3JFYWNoKGNhcnRJdGVtID0+IHtcclxuICAgICAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IGNhcnRJdGVtLnF1YW50aXR5OyBpKyspIHtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgcHJvZHVjdCA9IGNhcnRJdGVtLnByb2R1Y3Q7XHJcbiAgICAgICAgICAgICAgICB0b3RhbENvc3RzICs9IHByb2R1Y3QucHJpY2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdG90YWxDb3N0cy50b0ZpeGVkKDIpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldFByb2R1Y3RJZHMoY2FydEl0ZW1zKSB7XHJcblxyXG4gICAgICAgIGxldCBwcm9kdWN0SWRzID0gW107XHJcblxyXG4gICAgICAgIGlmKGNhcnRJdGVtcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgY2FydEl0ZW1zLmZvckVhY2goY2FydEl0ZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBsZXQgcHJvZHVjdCA9IGNhcnRJdGVtLnByb2R1Y3Q7XHJcbiAgICAgICAgICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgY2FydEl0ZW0ucXVhbnRpdHk7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vYWRkIGVhY2ggcHJvZHVjdCBpbmRpdmlkdWFsbHlcclxuICAgICAgICAgICAgICAgICAgICBwcm9kdWN0SWRzLnB1c2gocHJvZHVjdC5pZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gcHJvZHVjdElkcztcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSByZXR1cm4gW107XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0VG90YWxRdWFudGl0eShjYXJ0SXRlbXMpIHtcclxuICAgICAgICBsZXQgdG90YWxRdWFudGl0eSA9IDA7XHJcbiAgICAgICAgY2FydEl0ZW1zLmZvckVhY2goY2FydEl0ZW0gPT4ge1xyXG4gICAgICAgICAgICB0b3RhbFF1YW50aXR5ICs9IGNhcnRJdGVtLnF1YW50aXR5O1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiB0b3RhbFF1YW50aXR5O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGV4aXN0c0luQmFza2V0KHAsIGNhcnRJdGVtcykge1xyXG4gICAgICAgIGxldCBleGlzdHMgPSBmYWxzZTtcclxuICAgICAgICBjYXJ0SXRlbXMuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICAgICAgbGV0IHByb2R1Y3QgPSBpdGVtLnByb2R1Y3Q7XHJcbiAgICAgICAgICAgIGlmKHAuaWQgPT0gcHJvZHVjdC5pZCkge1xyXG4gICAgICAgICAgICAgICAgaXRlbS5xdWFudGl0eSsrO1xyXG4gICAgICAgICAgICAgICAgZXhpc3RzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjYXJ0SXRlbXM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTsgXHJcbiAgICAgICAgLy9zdGlsbCBnZXRzIHRyaWdnZXJlZCBvdGhlcndpc2Ugc29tZWhvd1xyXG4gICAgICAgIGlmKCFleGlzdHMpIHtcclxuICAgICAgICAgICAgY2FydEl0ZW1zLnB1c2gobmV3IFNob3BwaW5nQ2FydEl0ZW0ocCwgMSkpO1xyXG4gICAgICAgICAgICByZXR1cm4gY2FydEl0ZW1zO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHJldHVybiBjYXJ0SXRlbXM7XHJcbiAgICB9XHJcblxyXG4gICAgbW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICAgICAgYWRkVG9TaG9wcGluZ0NhcnQsXHJcbiAgICAgICAgcmVtb3ZlRnJvbVNob3BwaW5nQ2FydCxcclxuICAgICAgICBjaGVja0V4aXN0aW5nQmFza2V0LFxyXG4gICAgICAgIGNhbGN1bGF0ZUJhc2tldENvc3RzLFxyXG4gICAgICAgIGdldFByb2R1Y3RJZHMsXHJcbiAgICAgICAgZ2V0VG90YWxRdWFudGl0eSxcclxuICAgICAgICBleGlzdHNJbkJhc2tldCxcclxuICAgIH0iXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcVGplcmtfMlxcRGVza3RvcFxcUzQgLSBWdWUgRnJvbnRFbmRcXGxvZ2ljXFwifQ==