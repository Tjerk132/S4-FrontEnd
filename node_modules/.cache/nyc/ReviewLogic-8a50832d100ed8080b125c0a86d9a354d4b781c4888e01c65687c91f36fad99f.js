"use strict";function cov_1mjyvtfqhu(){var path="C:\\Users\\Tjerk_2\\Desktop\\S4 - Vue FrontEnd\\logic\\ReviewLogic.js";var hash="77027826fe826683febef8ca74af00d3bcea1c7e";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\Tjerk_2\\Desktop\\S4 - Vue FrontEnd\\logic\\ReviewLogic.js",statementMap:{"0":{start:{line:3,column:0},end:{line:5,column:3}},"1":{start:{line:6,column:0},end:{line:6,column:28}},"2":{start:{line:8,column:17},end:{line:8,column:72}},"3":{start:{line:10,column:21},end:{line:10,column:74}},"4":{start:{line:12,column:39},end:{line:12,column:95}},"5":{start:{line:14,column:77},end:{line:14,column:175}},"6":{start:{line:14,column:94},end:{line:14,column:107}},"7":{start:{line:14,column:121},end:{line:14,column:131}},"8":{start:{line:14,column:151},end:{line:14,column:165}},"9":{start:{line:14,column:166},end:{line:14,column:173}},"10":{start:{line:14,column:176},end:{line:14,column:263}},"11":{start:{line:14,column:193},end:{line:14,column:208}},"12":{start:{line:14,column:218},end:{line:14,column:261}},"13":{start:{line:16,column:33},end:{line:16,column:387}},"14":{start:{line:16,column:65},end:{line:16,column:69}},"15":{start:{line:16,column:78},end:{line:16,column:87}},"16":{start:{line:16,column:89},end:{line:16,column:384}},"17":{start:{line:16,column:147},end:{line:16,column:167}},"18":{start:{line:16,column:193},end:{line:16,column:264}},"19":{start:{line:16,column:290},end:{line:16,column:360}},"20":{start:{line:16,column:363},end:{line:16,column:380}},"21":{start:{line:18,column:50},end:{line:18,column:151}},"22":{start:{line:18,column:92},end:{line:18,column:149}},"23":{start:{line:20,column:44},end:{line:20,column:315}},"24":{start:{line:20,column:57},end:{line:20,column:58}},"25":{start:{line:20,column:102},end:{line:20,column:110}},"26":{start:{line:20,column:112},end:{line:20,column:167}},"27":{start:{line:20,column:168},end:{line:20,column:199}},"28":{start:{line:20,column:200},end:{line:20,column:254}},"29":{start:{line:20,column:227},end:{line:20,column:254}},"30":{start:{line:20,column:255},end:{line:20,column:313}},"31":{start:{line:22,column:62},end:{line:22,column:131}},"32":{start:{line:22,column:78},end:{line:22,column:131}},"33":{start:{line:22,column:132},end:{line:22,column:193}},"34":{start:{line:22,column:149},end:{line:22,column:193}},"35":{start:{line:22,column:194},end:{line:22,column:213}},"36":{start:{line:24,column:31},end:{line:163,column:3}},"37":{start:{line:26,column:4},end:{line:26,column:39}},"38":{start:{line:28,column:4},end:{line:28,column:49}},"39":{start:{line:29,column:4},end:{line:29,column:57}},"40":{start:{line:32,column:2},end:{line:160,column:6}},"41":{start:{line:35,column:18},end:{line:35,column:37}},"42":{start:{line:37,column:6},end:{line:37,column:50}},"43":{start:{line:43,column:6},end:{line:47,column:26}},"44":{start:{line:44,column:8},end:{line:46,column:27}},"45":{start:{line:45,column:10},end:{line:45,column:23}},"46":{start:{line:46,column:15},end:{line:46,column:27}},"47":{start:{line:47,column:13},end:{line:47,column:26}},"48":{start:{line:54,column:6},end:{line:62,column:9}},"49":{start:{line:55,column:8},end:{line:61,column:9}},"50":{start:{line:56,column:10},end:{line:58,column:11}},"51":{start:{line:57,column:12},end:{line:57,column:52}},"52":{start:{line:59,column:15},end:{line:61,column:9}},"53":{start:{line:60,column:10},end:{line:60,column:64}},"54":{start:{line:63,column:6},end:{line:63,column:21}},"55":{start:{line:68,column:36},end:{line:96,column:9}},"56":{start:{line:69,column:20},end:{line:69,column:24}},"57":{start:{line:72,column:8},end:{line:95,column:26}},"58":{start:{line:73,column:10},end:{line:94,column:11}},"59":{start:{line:74,column:12},end:{line:93,column:13}},"60":{start:{line:76,column:16},end:{line:76,column:34}},"61":{start:{line:77,column:16},end:{line:77,column:65}},"62":{start:{line:80,column:16},end:{line:80,column:40}},"63":{start:{line:82,column:16},end:{line:84,column:19}},"64":{start:{line:83,column:18},end:{line:83,column:85}},"65":{start:{line:85,column:16},end:{line:87,column:19}},"66":{start:{line:86,column:18},end:{line:86,column:107}},"67":{start:{line:88,column:16},end:{line:88,column:58}},"68":{start:{line:92,column:16},end:{line:92,column:39}},"69":{start:{line:99,column:8},end:{line:99,column:62}},"70":{start:{line:102,column:6},end:{line:102,column:36}},"71":{start:{line:107,column:23},end:{line:124,column:9}},"72":{start:{line:108,column:8},end:{line:123,column:27}},"73":{start:{line:109,column:10},end:{line:122,column:11}},"74":{start:{line:110,column:12},end:{line:121,column:13}},"75":{start:{line:112,column:16},end:{line:112,column:35}},"76":{start:{line:113,column:16},end:{line:113,column:56}},"77":{start:{line:116,column:16},end:{line:116,column:66}},"78":{start:{line:120,column:16},end:{line:120,column:40}},"79":{start:{line:127,column:8},end:{line:127,column:49}},"80":{start:{line:130,column:6},end:{line:130,column:23}},"81":{start:{line:135,column:24},end:{line:152,column:9}},"82":{start:{line:136,column:8},end:{line:151,column:27}},"83":{start:{line:137,column:10},end:{line:150,column:11}},"84":{start:{line:138,column:12},end:{line:149,column:13}},"85":{start:{line:140,column:16},end:{line:140,column:35}},"86":{start:{line:141,column:16},end:{line:141,column:67}},"87":{start:{line:144,column:16},end:{line:144,column:66}},"88":{start:{line:148,column:16},end:{line:148,column:40}},"89":{start:{line:155,column:8},end:{line:155,column:50}},"90":{start:{line:158,column:6},end:{line:158,column:24}},"91":{start:{line:162,column:2},end:{line:162,column:21}},"92":{start:{line:165,column:0},end:{line:165,column:33}}},fnMap:{"0":{name:"_interopRequireDefault",decl:{start:{line:12,column:9},end:{line:12,column:31}},loc:{start:{line:12,column:37},end:{line:12,column:97}},line:12},"1":{name:"asyncGeneratorStep",decl:{start:{line:14,column:9},end:{line:14,column:27}},loc:{start:{line:14,column:75},end:{line:14,column:265}},line:14},"2":{name:"_asyncToGenerator",decl:{start:{line:16,column:9},end:{line:16,column:26}},loc:{start:{line:16,column:31},end:{line:16,column:389}},line:16},"3":{name:"(anonymous_3)",decl:{start:{line:16,column:40},end:{line:16,column:41}},loc:{start:{line:16,column:52},end:{line:16,column:386}},line:16},"4":{name:"(anonymous_4)",decl:{start:{line:16,column:108},end:{line:16,column:109}},loc:{start:{line:16,column:135},end:{line:16,column:382}},line:16},"5":{name:"_next",decl:{start:{line:16,column:178},end:{line:16,column:183}},loc:{start:{line:16,column:191},end:{line:16,column:266}},line:16},"6":{name:"_throw",decl:{start:{line:16,column:276},end:{line:16,column:282}},loc:{start:{line:16,column:288},end:{line:16,column:362}},line:16},"7":{name:"_classCallCheck",decl:{start:{line:18,column:9},end:{line:18,column:24}},loc:{start:{line:18,column:48},end:{line:18,column:153}},line:18},"8":{name:"_defineProperties",decl:{start:{line:20,column:9},end:{line:20,column:26}},loc:{start:{line:20,column:42},end:{line:20,column:317}},line:20},"9":{name:"_createClass",decl:{start:{line:22,column:9},end:{line:22,column:21}},loc:{start:{line:22,column:60},end:{line:22,column:215}},line:22},"10":{name:"(anonymous_10)",decl:{start:{line:24,column:31},end:{line:24,column:32}},loc:{start:{line:24,column:43},end:{line:163,column:1}},line:24},"11":{name:"ReviewLogic",decl:{start:{line:25,column:11},end:{line:25,column:22}},loc:{start:{line:25,column:25},end:{line:30,column:3}},line:25},"12":{name:"removeItem",decl:{start:{line:34,column:20},end:{line:34,column:30}},loc:{start:{line:34,column:44},end:{line:38,column:5}},line:34},"13":{name:"validateProConInput",decl:{start:{line:41,column:20},end:{line:41,column:39}},loc:{start:{line:41,column:61},end:{line:48,column:5}},line:41},"14":{name:"validateReviewSubmit",decl:{start:{line:51,column:20},end:{line:51,column:40}},loc:{start:{line:51,column:47},end:{line:64,column:5}},line:51},"15":{name:"(anonymous_15)",decl:{start:{line:54,column:19},end:{line:54,column:20}},loc:{start:{line:54,column:34},end:{line:62,column:7}},line:54},"16":{name:"(anonymous_16)",decl:{start:{line:67,column:11},end:{line:67,column:12}},loc:{start:{line:67,column:23},end:{line:103,column:5}},line:67},"17":{name:"_callee",decl:{start:{line:68,column:101},end:{line:68,column:108}},loc:{start:{line:68,column:113},end:{line:96,column:7}},line:68},"18":{name:"_callee$",decl:{start:{line:72,column:48},end:{line:72,column:56}},loc:{start:{line:72,column:67},end:{line:95,column:9}},line:72},"19":{name:"(anonymous_19)",decl:{start:{line:82,column:28},end:{line:82,column:29}},loc:{start:{line:82,column:41},end:{line:84,column:17}},line:82},"20":{name:"(anonymous_20)",decl:{start:{line:85,column:28},end:{line:85,column:29}},loc:{start:{line:85,column:41},end:{line:87,column:17}},line:85},"21":{name:"getAllReviewsByProduct",decl:{start:{line:98,column:15},end:{line:98,column:37}},loc:{start:{line:98,column:42},end:{line:100,column:7}},line:98},"22":{name:"(anonymous_22)",decl:{start:{line:106,column:11},end:{line:106,column:12}},loc:{start:{line:106,column:23},end:{line:131,column:5}},line:106},"23":{name:"_callee2",decl:{start:{line:107,column:88},end:{line:107,column:96}},loc:{start:{line:107,column:105},end:{line:124,column:7}},line:107},"24":{name:"_callee2$",decl:{start:{line:108,column:48},end:{line:108,column:57}},loc:{start:{line:108,column:69},end:{line:123,column:9}},line:108},"25":{name:"addReview",decl:{start:{line:126,column:15},end:{line:126,column:24}},loc:{start:{line:126,column:30},end:{line:128,column:7}},line:126},"26":{name:"(anonymous_26)",decl:{start:{line:134,column:11},end:{line:134,column:12}},loc:{start:{line:134,column:23},end:{line:159,column:5}},line:134},"27":{name:"_callee3",decl:{start:{line:135,column:89},end:{line:135,column:97}},loc:{start:{line:135,column:116},end:{line:152,column:7}},line:135},"28":{name:"_callee3$",decl:{start:{line:136,column:48},end:{line:136,column:57}},loc:{start:{line:136,column:69},end:{line:151,column:9}},line:136},"29":{name:"likeReview",decl:{start:{line:154,column:15},end:{line:154,column:25}},loc:{start:{line:154,column:36},end:{line:156,column:7}},line:154}},branchMap:{"0":{loc:{start:{line:12,column:46},end:{line:12,column:94}},type:"cond-expr",locations:[{start:{line:12,column:70},end:{line:12,column:73}},{start:{line:12,column:76},end:{line:12,column:94}}],line:12},"1":{loc:{start:{line:12,column:46},end:{line:12,column:67}},type:"binary-expr",locations:[{start:{line:12,column:46},end:{line:12,column:49}},{start:{line:12,column:53},end:{line:12,column:67}}],line:12},"2":{loc:{start:{line:14,column:176},end:{line:14,column:263}},type:"if",locations:[{start:{line:14,column:176},end:{line:14,column:263}},{start:{line:14,column:176},end:{line:14,column:263}}],line:14},"3":{loc:{start:{line:18,column:50},end:{line:18,column:151}},type:"if",locations:[{start:{line:18,column:50},end:{line:18,column:151}},{start:{line:18,column:50},end:{line:18,column:151}}],line:18},"4":{loc:{start:{line:20,column:136},end:{line:20,column:166}},type:"binary-expr",locations:[{start:{line:20,column:136},end:{line:20,column:157}},{start:{line:20,column:161},end:{line:20,column:166}}],line:20},"5":{loc:{start:{line:20,column:200},end:{line:20,column:254}},type:"if",locations:[{start:{line:20,column:200},end:{line:20,column:254}},{start:{line:20,column:200},end:{line:20,column:254}}],line:20},"6":{loc:{start:{line:22,column:62},end:{line:22,column:131}},type:"if",locations:[{start:{line:22,column:62},end:{line:22,column:131}},{start:{line:22,column:62},end:{line:22,column:131}}],line:22},"7":{loc:{start:{line:22,column:132},end:{line:22,column:193}},type:"if",locations:[{start:{line:22,column:132},end:{line:22,column:193}},{start:{line:22,column:132},end:{line:22,column:193}}],line:22},"8":{loc:{start:{line:43,column:6},end:{line:47,column:26}},type:"if",locations:[{start:{line:43,column:6},end:{line:47,column:26}},{start:{line:43,column:6},end:{line:47,column:26}}],line:43},"9":{loc:{start:{line:44,column:8},end:{line:46,column:27}},type:"if",locations:[{start:{line:44,column:8},end:{line:46,column:27}},{start:{line:44,column:8},end:{line:46,column:27}}],line:44},"10":{loc:{start:{line:55,column:8},end:{line:61,column:9}},type:"if",locations:[{start:{line:55,column:8},end:{line:61,column:9}},{start:{line:55,column:8},end:{line:61,column:9}}],line:55},"11":{loc:{start:{line:56,column:10},end:{line:58,column:11}},type:"if",locations:[{start:{line:56,column:10},end:{line:58,column:11}},{start:{line:56,column:10},end:{line:58,column:11}}],line:56},"12":{loc:{start:{line:56,column:14},end:{line:56,column:44}},type:"binary-expr",locations:[{start:{line:56,column:14},end:{line:56,column:27}},{start:{line:56,column:31},end:{line:56,column:44}}],line:56},"13":{loc:{start:{line:59,column:15},end:{line:61,column:9}},type:"if",locations:[{start:{line:59,column:15},end:{line:61,column:9}},{start:{line:59,column:15},end:{line:61,column:9}}],line:59},"14":{loc:{start:{line:59,column:19},end:{line:59,column:50}},type:"binary-expr",locations:[{start:{line:59,column:19},end:{line:59,column:29}},{start:{line:59,column:33},end:{line:59,column:50}}],line:59},"15":{loc:{start:{line:74,column:12},end:{line:93,column:13}},type:"switch",locations:[{start:{line:75,column:14},end:{line:77,column:65}},{start:{line:79,column:14},end:{line:88,column:58}},{start:{line:90,column:14},end:{line:90,column:21}},{start:{line:91,column:14},end:{line:92,column:39}}],line:74},"16":{loc:{start:{line:110,column:12},end:{line:121,column:13}},type:"switch",locations:[{start:{line:111,column:14},end:{line:113,column:56}},{start:{line:115,column:14},end:{line:116,column:66}},{start:{line:118,column:14},end:{line:118,column:21}},{start:{line:119,column:14},end:{line:120,column:40}}],line:110},"17":{loc:{start:{line:138,column:12},end:{line:149,column:13}},type:"switch",locations:[{start:{line:139,column:14},end:{line:141,column:67}},{start:{line:143,column:14},end:{line:144,column:66}},{start:{line:146,column:14},end:{line:146,column:21}},{start:{line:147,column:14},end:{line:148,column:40}}],line:138}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0,0,0],"16":[0,0,0,0],"17":[0,0,0,0]},inputSourceMap:{version:3,sources:["ReviewLogic.js"],names:["ReviewLogic","reviewDao","ReviewDao","categoryLogic","CategoryLogic","item","array","index","indexOf","splice","string","proconCount","trim","refs","message","forEach","ref","name","value","id","getAllReviewsByProduct","reviews","map","x","reviewAuthorValue","toReadableCategory","review","addReview","userId","reviewId","likeReview"],mappings:";;;;;;;AAAA;;AAEA;;;;;;;;;;;;;;IAEqBA,W;AAEjB,yBAAc;AAAA;;AACV,SAAKC,SAAL,GAAiB,IAAIC,qBAAJ,EAAjB;AACA,SAAKC,aAAL,GAAqB,IAAIC,yBAAJ,EAArB;AACH;;;;+BAEUC,I,EAAMC,K,EAAO;AAEpB,UAAIC,KAAK,GAAGD,KAAK,CAACE,OAAN,CAAcH,IAAd,CAAZ,CAFoB,CAIpB;;AACA,aAAOC,KAAK,CAACG,MAAN,CAAaH,KAAK,CAACG,MAAN,CAAaF,KAAb,EAAoB,CAApB,CAAb,CAAP;AACH;;;wCAEmBG,M,EAAQC,W,EAAa;AACrC;AACA,UAAGD,MAAM,CAACE,IAAP,EAAH,EAAkB;AACd,YAAGD,WAAW,IAAI,CAAlB,EAAqB;AACjB,iBAAO,KAAP;AACH,SAFD,MAGK,OAAO,IAAP;AACR,OALD,MAMK,OAAO,KAAP;AACR;;;yCAEoBE,I,EAAM;AAEvB;AACA,UAAIC,OAAJ;AACAD,MAAAA,IAAI,CAACE,OAAL,CAAa,UAAAC,GAAG,EAAI;AAChB,YAAGA,GAAG,CAACC,IAAJ,KAAa,aAAhB,EAA+B;AAE3B,cAAGD,GAAG,CAACE,KAAJ,GAAY,CAAZ,IAAiBF,GAAG,CAACE,KAAJ,GAAY,CAAhC,EAAmC;AAC/BJ,YAAAA,OAAO,GAAE,6BAAT;AACH;AACJ,SALD,MAMK,IAAG,CAACE,GAAG,CAACE,KAAL,IAAc,CAACF,GAAG,CAACE,KAAJ,CAAUN,IAAV,EAAlB,EAAoC;AACrCE,UAAAA,OAAO,GAAG,wBAAwBE,GAAG,CAACC,IAA5B,GAAmC,QAA7C;AACH;AACJ,OAVD;AAWA,aAAOH,OAAP;AACH;;;;6GAE4BK,E;;;;;;;;;uBACL,KAAKlB,SAAL,CAAemB,sBAAf,CAAsCD,EAAtC,C;;;AAAhBE,gBAAAA,O;AAEJ;AACAA,gBAAAA,OAAO,CAACC,GAAR,CAAY,UAAAC,CAAC;AAAA,yBAAIA,CAAC,CAACC,iBAAF,GAAsBD,CAAC,CAACC,iBAAF,CAAoBA,iBAA9C;AAAA,iBAAb;AACAH,gBAAAA,OAAO,CAACC,GAAR,CAAY,UAAAC,CAAC;AAAA,yBAAIA,CAAC,CAACC,iBAAF,GAAsB,KAAI,CAACrB,aAAL,CAAmBsB,kBAAnB,CAAsCF,CAAC,CAACC,iBAAxC,CAA1B;AAAA,iBAAb;iDAEOH,O;;;;;;;;;;;;;;;;;;;iGAGKK,M;;;;;;uBACC,KAAKzB,SAAL,CAAe0B,SAAf,CAAyBD,MAAzB,C;;;;;;;;;;;;;;;;;;;;;;kGAGAE,M,EAAQC,Q;;;;;;uBACR,KAAK5B,SAAL,CAAe6B,UAAf,CAA0BF,MAA1B,EAAkCC,QAAlC,C",sourceRoot:"C:\\Users\\Tjerk_2\\Desktop\\S4 - Vue FrontEnd\\logic\\",sourcesContent:["import ReviewDao from '@/data/ReviewDao.js';\r\n\r\nimport CategoryLogic from '@/logic/CategoryLogic.js';\r\n\r\nexport default class ReviewLogic {\r\n\r\n    constructor() {\r\n        this.reviewDao = new ReviewDao();\r\n        this.categoryLogic = new CategoryLogic();\r\n    }\r\n\r\n    removeItem(item, array) {\r\n\r\n        var index = array.indexOf(item);\r\n\r\n        //remove first occurance\r\n        return array.splice(array.splice(index, 1));\r\n    }\r\n\r\n    validateProConInput(string, proconCount) {\r\n        //input is not blank or whitespace\r\n        if(string.trim()) {\r\n            if(proconCount >= 4) {\r\n                return false;\r\n            }\r\n            else return true;\r\n        }\r\n        else return false;\r\n    }\r\n\r\n    validateReviewSubmit(refs) {\r\n\r\n        //validate no empty fields \r\n        let message; \r\n        refs.forEach(ref => {\r\n            if(ref.name === 'Star Rating') {\r\n\r\n                if(ref.value < 1 || ref.value > 5) {\r\n                    message ='Please insert a star rating';\r\n                }\r\n            }\r\n            else if(!ref.value || !ref.value.trim()) {\r\n                message = 'Please fill in the ' + ref.name + ' field';\r\n            }\r\n        });\r\n        return message;\r\n    }\r\n\r\n    async getAllReviewsByProduct(id) {\r\n        let reviews = await this.reviewDao.getAllReviewsByProduct(id);\r\n\r\n        //review author value is saved as enum object\r\n        reviews.map(x => x.reviewAuthorValue = x.reviewAuthorValue.reviewAuthorValue);\r\n        reviews.map(x => x.reviewAuthorValue = this.categoryLogic.toReadableCategory(x.reviewAuthorValue));\r\n\r\n        return reviews;\r\n    }\r\n\r\n    async addReview(review) {\r\n        return await this.reviewDao.addReview(review);\r\n    }\r\n\r\n    async likeReview(userId, reviewId) {\r\n        return await this.reviewDao.likeReview(userId, reviewId);\r\n    }\r\n}  "]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"77027826fe826683febef8ca74af00d3bcea1c7e"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];cov_1mjyvtfqhu=function(){return actualCoverage;};return actualCoverage;}cov_1mjyvtfqhu();cov_1mjyvtfqhu().s[0]++;Object.defineProperty(exports,"__esModule",{value:true});cov_1mjyvtfqhu().s[1]++;exports["default"]=void 0;var _ReviewDao=(cov_1mjyvtfqhu().s[2]++,_interopRequireDefault(require("../data/ReviewDao.js")));var _CategoryLogic=(cov_1mjyvtfqhu().s[3]++,_interopRequireDefault(require("./CategoryLogic.js")));function _interopRequireDefault(obj){cov_1mjyvtfqhu().f[0]++;cov_1mjyvtfqhu().s[4]++;return(cov_1mjyvtfqhu().b[1][0]++,obj)&&(cov_1mjyvtfqhu().b[1][1]++,obj.__esModule)?(cov_1mjyvtfqhu().b[0][0]++,obj):(cov_1mjyvtfqhu().b[0][1]++,{"default":obj});}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){cov_1mjyvtfqhu().f[1]++;cov_1mjyvtfqhu().s[5]++;try{var info=(cov_1mjyvtfqhu().s[6]++,gen[key](arg));var value=(cov_1mjyvtfqhu().s[7]++,info.value);}catch(error){cov_1mjyvtfqhu().s[8]++;reject(error);cov_1mjyvtfqhu().s[9]++;return;}cov_1mjyvtfqhu().s[10]++;if(info.done){cov_1mjyvtfqhu().b[2][0]++;cov_1mjyvtfqhu().s[11]++;resolve(value);}else{cov_1mjyvtfqhu().b[2][1]++;cov_1mjyvtfqhu().s[12]++;Promise.resolve(value).then(_next,_throw);}}function _asyncToGenerator(fn){cov_1mjyvtfqhu().f[2]++;cov_1mjyvtfqhu().s[13]++;return function(){cov_1mjyvtfqhu().f[3]++;var self=(cov_1mjyvtfqhu().s[14]++,this),args=(cov_1mjyvtfqhu().s[15]++,arguments);cov_1mjyvtfqhu().s[16]++;return new Promise(function(resolve,reject){cov_1mjyvtfqhu().f[4]++;var gen=(cov_1mjyvtfqhu().s[17]++,fn.apply(self,args));function _next(value){cov_1mjyvtfqhu().f[5]++;cov_1mjyvtfqhu().s[18]++;asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value);}function _throw(err){cov_1mjyvtfqhu().f[6]++;cov_1mjyvtfqhu().s[19]++;asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err);}cov_1mjyvtfqhu().s[20]++;_next(undefined);});};}function _classCallCheck(instance,Constructor){cov_1mjyvtfqhu().f[7]++;cov_1mjyvtfqhu().s[21]++;if(!(instance instanceof Constructor)){cov_1mjyvtfqhu().b[3][0]++;cov_1mjyvtfqhu().s[22]++;throw new TypeError("Cannot call a class as a function");}else{cov_1mjyvtfqhu().b[3][1]++;}}function _defineProperties(target,props){cov_1mjyvtfqhu().f[8]++;cov_1mjyvtfqhu().s[23]++;for(var i=(cov_1mjyvtfqhu().s[24]++,0);i<props.length;i++){var descriptor=(cov_1mjyvtfqhu().s[25]++,props[i]);cov_1mjyvtfqhu().s[26]++;descriptor.enumerable=(cov_1mjyvtfqhu().b[4][0]++,descriptor.enumerable)||(cov_1mjyvtfqhu().b[4][1]++,false);cov_1mjyvtfqhu().s[27]++;descriptor.configurable=true;cov_1mjyvtfqhu().s[28]++;if("value"in descriptor){cov_1mjyvtfqhu().b[5][0]++;cov_1mjyvtfqhu().s[29]++;descriptor.writable=true;}else{cov_1mjyvtfqhu().b[5][1]++;}cov_1mjyvtfqhu().s[30]++;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){cov_1mjyvtfqhu().f[9]++;cov_1mjyvtfqhu().s[31]++;if(protoProps){cov_1mjyvtfqhu().b[6][0]++;cov_1mjyvtfqhu().s[32]++;_defineProperties(Constructor.prototype,protoProps);}else{cov_1mjyvtfqhu().b[6][1]++;}cov_1mjyvtfqhu().s[33]++;if(staticProps){cov_1mjyvtfqhu().b[7][0]++;cov_1mjyvtfqhu().s[34]++;_defineProperties(Constructor,staticProps);}else{cov_1mjyvtfqhu().b[7][1]++;}cov_1mjyvtfqhu().s[35]++;return Constructor;}var ReviewLogic=(/*#__PURE__*/cov_1mjyvtfqhu().s[36]++,function(){cov_1mjyvtfqhu().f[10]++;function ReviewLogic(){cov_1mjyvtfqhu().f[11]++;cov_1mjyvtfqhu().s[37]++;_classCallCheck(this,ReviewLogic);cov_1mjyvtfqhu().s[38]++;this.reviewDao=new _ReviewDao["default"]();cov_1mjyvtfqhu().s[39]++;this.categoryLogic=new _CategoryLogic["default"]();}cov_1mjyvtfqhu().s[40]++;_createClass(ReviewLogic,[{key:"removeItem",value:function removeItem(item,array){cov_1mjyvtfqhu().f[12]++;var index=(cov_1mjyvtfqhu().s[41]++,array.indexOf(item));//remove first occurance
cov_1mjyvtfqhu().s[42]++;return array.splice(array.splice(index,1));}},{key:"validateProConInput",value:function validateProConInput(string,proconCount){cov_1mjyvtfqhu().f[13]++;cov_1mjyvtfqhu().s[43]++;//input is not blank or whitespace
if(string.trim()){cov_1mjyvtfqhu().b[8][0]++;cov_1mjyvtfqhu().s[44]++;if(proconCount>=4){cov_1mjyvtfqhu().b[9][0]++;cov_1mjyvtfqhu().s[45]++;return false;}else{cov_1mjyvtfqhu().b[9][1]++;cov_1mjyvtfqhu().s[46]++;return true;}}else{cov_1mjyvtfqhu().b[8][1]++;cov_1mjyvtfqhu().s[47]++;return false;}}},{key:"validateReviewSubmit",value:function validateReviewSubmit(refs){cov_1mjyvtfqhu().f[14]++;//validate no empty fields 
var message;cov_1mjyvtfqhu().s[48]++;refs.forEach(function(ref){cov_1mjyvtfqhu().f[15]++;cov_1mjyvtfqhu().s[49]++;if(ref.name==='Star Rating'){cov_1mjyvtfqhu().b[10][0]++;cov_1mjyvtfqhu().s[50]++;if((cov_1mjyvtfqhu().b[12][0]++,ref.value<1)||(cov_1mjyvtfqhu().b[12][1]++,ref.value>5)){cov_1mjyvtfqhu().b[11][0]++;cov_1mjyvtfqhu().s[51]++;message='Please insert a star rating';}else{cov_1mjyvtfqhu().b[11][1]++;}}else{cov_1mjyvtfqhu().b[10][1]++;cov_1mjyvtfqhu().s[52]++;if((cov_1mjyvtfqhu().b[14][0]++,!ref.value)||(cov_1mjyvtfqhu().b[14][1]++,!ref.value.trim())){cov_1mjyvtfqhu().b[13][0]++;cov_1mjyvtfqhu().s[53]++;message='Please fill in the '+ref.name+' field';}else{cov_1mjyvtfqhu().b[13][1]++;}}});cov_1mjyvtfqhu().s[54]++;return message;}},{key:"getAllReviewsByProduct",value:function(){cov_1mjyvtfqhu().f[16]++;var _getAllReviewsByProduct=(cov_1mjyvtfqhu().s[55]++,_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee(id){cov_1mjyvtfqhu().f[17]++;var _this=(cov_1mjyvtfqhu().s[56]++,this);var reviews;cov_1mjyvtfqhu().s[57]++;return regeneratorRuntime.wrap(function _callee$(_context){cov_1mjyvtfqhu().f[18]++;cov_1mjyvtfqhu().s[58]++;while(1){cov_1mjyvtfqhu().s[59]++;switch(_context.prev=_context.next){case 0:cov_1mjyvtfqhu().b[15][0]++;cov_1mjyvtfqhu().s[60]++;_context.next=2;cov_1mjyvtfqhu().s[61]++;return this.reviewDao.getAllReviewsByProduct(id);case 2:cov_1mjyvtfqhu().b[15][1]++;cov_1mjyvtfqhu().s[62]++;reviews=_context.sent;//review author value is saved as enum object
cov_1mjyvtfqhu().s[63]++;reviews.map(function(x){cov_1mjyvtfqhu().f[19]++;cov_1mjyvtfqhu().s[64]++;return x.reviewAuthorValue=x.reviewAuthorValue.reviewAuthorValue;});cov_1mjyvtfqhu().s[65]++;reviews.map(function(x){cov_1mjyvtfqhu().f[20]++;cov_1mjyvtfqhu().s[66]++;return x.reviewAuthorValue=_this.categoryLogic.toReadableCategory(x.reviewAuthorValue);});cov_1mjyvtfqhu().s[67]++;return _context.abrupt("return",reviews);case 6:cov_1mjyvtfqhu().b[15][2]++;case"end":cov_1mjyvtfqhu().b[15][3]++;cov_1mjyvtfqhu().s[68]++;return _context.stop();}}},_callee,this);})));function getAllReviewsByProduct(_x){cov_1mjyvtfqhu().f[21]++;cov_1mjyvtfqhu().s[69]++;return _getAllReviewsByProduct.apply(this,arguments);}cov_1mjyvtfqhu().s[70]++;return getAllReviewsByProduct;}()},{key:"addReview",value:function(){cov_1mjyvtfqhu().f[22]++;var _addReview=(cov_1mjyvtfqhu().s[71]++,_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee2(review){cov_1mjyvtfqhu().f[23]++;cov_1mjyvtfqhu().s[72]++;return regeneratorRuntime.wrap(function _callee2$(_context2){cov_1mjyvtfqhu().f[24]++;cov_1mjyvtfqhu().s[73]++;while(1){cov_1mjyvtfqhu().s[74]++;switch(_context2.prev=_context2.next){case 0:cov_1mjyvtfqhu().b[16][0]++;cov_1mjyvtfqhu().s[75]++;_context2.next=2;cov_1mjyvtfqhu().s[76]++;return this.reviewDao.addReview(review);case 2:cov_1mjyvtfqhu().b[16][1]++;cov_1mjyvtfqhu().s[77]++;return _context2.abrupt("return",_context2.sent);case 3:cov_1mjyvtfqhu().b[16][2]++;case"end":cov_1mjyvtfqhu().b[16][3]++;cov_1mjyvtfqhu().s[78]++;return _context2.stop();}}},_callee2,this);})));function addReview(_x2){cov_1mjyvtfqhu().f[25]++;cov_1mjyvtfqhu().s[79]++;return _addReview.apply(this,arguments);}cov_1mjyvtfqhu().s[80]++;return addReview;}()},{key:"likeReview",value:function(){cov_1mjyvtfqhu().f[26]++;var _likeReview=(cov_1mjyvtfqhu().s[81]++,_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee3(userId,reviewId){cov_1mjyvtfqhu().f[27]++;cov_1mjyvtfqhu().s[82]++;return regeneratorRuntime.wrap(function _callee3$(_context3){cov_1mjyvtfqhu().f[28]++;cov_1mjyvtfqhu().s[83]++;while(1){cov_1mjyvtfqhu().s[84]++;switch(_context3.prev=_context3.next){case 0:cov_1mjyvtfqhu().b[17][0]++;cov_1mjyvtfqhu().s[85]++;_context3.next=2;cov_1mjyvtfqhu().s[86]++;return this.reviewDao.likeReview(userId,reviewId);case 2:cov_1mjyvtfqhu().b[17][1]++;cov_1mjyvtfqhu().s[87]++;return _context3.abrupt("return",_context3.sent);case 3:cov_1mjyvtfqhu().b[17][2]++;case"end":cov_1mjyvtfqhu().b[17][3]++;cov_1mjyvtfqhu().s[88]++;return _context3.stop();}}},_callee3,this);})));function likeReview(_x3,_x4){cov_1mjyvtfqhu().f[29]++;cov_1mjyvtfqhu().s[89]++;return _likeReview.apply(this,arguments);}cov_1mjyvtfqhu().s[90]++;return likeReview;}()}]);cov_1mjyvtfqhu().s[91]++;return ReviewLogic;}());cov_1mjyvtfqhu().s[92]++;exports["default"]=ReviewLogic;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlJldmlld0xvZ2ljLmpzIl0sIm5hbWVzIjpbIlJldmlld0xvZ2ljIiwicmV2aWV3RGFvIiwiUmV2aWV3RGFvIiwiY2F0ZWdvcnlMb2dpYyIsIkNhdGVnb3J5TG9naWMiLCJpdGVtIiwiYXJyYXkiLCJpbmRleCIsImluZGV4T2YiLCJzcGxpY2UiLCJzdHJpbmciLCJwcm9jb25Db3VudCIsInRyaW0iLCJyZWZzIiwibWVzc2FnZSIsImZvckVhY2giLCJyZWYiLCJuYW1lIiwidmFsdWUiLCJpZCIsImdldEFsbFJldmlld3NCeVByb2R1Y3QiLCJyZXZpZXdzIiwibWFwIiwieCIsInJldmlld0F1dGhvclZhbHVlIiwidG9SZWFkYWJsZUNhdGVnb3J5IiwicmV2aWV3IiwiYWRkUmV2aWV3IiwidXNlcklkIiwicmV2aWV3SWQiLCJsaWtlUmV2aWV3Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBRUE7Ozs7Ozs7Ozs7Ozs7O0lBRXFCQSxXO0FBRWpCLHlCQUFjO0FBQUE7O0FBQ1YsU0FBS0MsU0FBTCxHQUFpQixJQUFJQyxxQkFBSixFQUFqQjtBQUNBLFNBQUtDLGFBQUwsR0FBcUIsSUFBSUMseUJBQUosRUFBckI7QUFDSDs7OzsrQkFFVUMsSSxFQUFNQyxLLEVBQU87QUFFcEIsVUFBSUMsS0FBSyxHQUFHRCxLQUFLLENBQUNFLE9BQU4sQ0FBY0gsSUFBZCxDQUFaLENBRm9CLENBSXBCOztBQUNBLGFBQU9DLEtBQUssQ0FBQ0csTUFBTixDQUFhSCxLQUFLLENBQUNHLE1BQU4sQ0FBYUYsS0FBYixFQUFvQixDQUFwQixDQUFiLENBQVA7QUFDSDs7O3dDQUVtQkcsTSxFQUFRQyxXLEVBQWE7QUFDckM7QUFDQSxVQUFHRCxNQUFNLENBQUNFLElBQVAsRUFBSCxFQUFrQjtBQUNkLFlBQUdELFdBQVcsSUFBSSxDQUFsQixFQUFxQjtBQUNqQixpQkFBTyxLQUFQO0FBQ0gsU0FGRCxNQUdLLE9BQU8sSUFBUDtBQUNSLE9BTEQsTUFNSyxPQUFPLEtBQVA7QUFDUjs7O3lDQUVvQkUsSSxFQUFNO0FBRXZCO0FBQ0EsVUFBSUMsT0FBSjtBQUNBRCxNQUFBQSxJQUFJLENBQUNFLE9BQUwsQ0FBYSxVQUFBQyxHQUFHLEVBQUk7QUFDaEIsWUFBR0EsR0FBRyxDQUFDQyxJQUFKLEtBQWEsYUFBaEIsRUFBK0I7QUFFM0IsY0FBR0QsR0FBRyxDQUFDRSxLQUFKLEdBQVksQ0FBWixJQUFpQkYsR0FBRyxDQUFDRSxLQUFKLEdBQVksQ0FBaEMsRUFBbUM7QUFDL0JKLFlBQUFBLE9BQU8sR0FBRSw2QkFBVDtBQUNIO0FBQ0osU0FMRCxNQU1LLElBQUcsQ0FBQ0UsR0FBRyxDQUFDRSxLQUFMLElBQWMsQ0FBQ0YsR0FBRyxDQUFDRSxLQUFKLENBQVVOLElBQVYsRUFBbEIsRUFBb0M7QUFDckNFLFVBQUFBLE9BQU8sR0FBRyx3QkFBd0JFLEdBQUcsQ0FBQ0MsSUFBNUIsR0FBbUMsUUFBN0M7QUFDSDtBQUNKLE9BVkQ7QUFXQSxhQUFPSCxPQUFQO0FBQ0g7Ozs7NkdBRTRCSyxFOzs7Ozs7Ozs7dUJBQ0wsS0FBS2xCLFNBQUwsQ0FBZW1CLHNCQUFmLENBQXNDRCxFQUF0QyxDOzs7QUFBaEJFLGdCQUFBQSxPO0FBRUo7QUFDQUEsZ0JBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLFVBQUFDLENBQUM7QUFBQSx5QkFBSUEsQ0FBQyxDQUFDQyxpQkFBRixHQUFzQkQsQ0FBQyxDQUFDQyxpQkFBRixDQUFvQkEsaUJBQTlDO0FBQUEsaUJBQWI7QUFDQUgsZ0JBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLFVBQUFDLENBQUM7QUFBQSx5QkFBSUEsQ0FBQyxDQUFDQyxpQkFBRixHQUFzQixLQUFJLENBQUNyQixhQUFMLENBQW1Cc0Isa0JBQW5CLENBQXNDRixDQUFDLENBQUNDLGlCQUF4QyxDQUExQjtBQUFBLGlCQUFiO2lEQUVPSCxPOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O2lHQUdLSyxNOzs7Ozs7dUJBQ0MsS0FBS3pCLFNBQUwsQ0FBZTBCLFNBQWYsQ0FBeUJELE1BQXpCLEM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7a0dBR0FFLE0sRUFBUUMsUTs7Ozs7O3VCQUNSLEtBQUs1QixTQUFMLENBQWU2QixVQUFmLENBQTBCRixNQUExQixFQUFrQ0MsUUFBbEMsQyIsInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXFRqZXJrXzJcXERlc2t0b3BcXFM0IC0gVnVlIEZyb250RW5kXFxsb2dpY1xcIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJldmlld0RhbyBmcm9tICdAL2RhdGEvUmV2aWV3RGFvLmpzJztcclxuXHJcbmltcG9ydCBDYXRlZ29yeUxvZ2ljIGZyb20gJ0AvbG9naWMvQ2F0ZWdvcnlMb2dpYy5qcyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZXZpZXdMb2dpYyB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5yZXZpZXdEYW8gPSBuZXcgUmV2aWV3RGFvKCk7XHJcbiAgICAgICAgdGhpcy5jYXRlZ29yeUxvZ2ljID0gbmV3IENhdGVnb3J5TG9naWMoKTtcclxuICAgIH1cclxuXHJcbiAgICByZW1vdmVJdGVtKGl0ZW0sIGFycmF5KSB7XHJcblxyXG4gICAgICAgIHZhciBpbmRleCA9IGFycmF5LmluZGV4T2YoaXRlbSk7XHJcblxyXG4gICAgICAgIC8vcmVtb3ZlIGZpcnN0IG9jY3VyYW5jZVxyXG4gICAgICAgIHJldHVybiBhcnJheS5zcGxpY2UoYXJyYXkuc3BsaWNlKGluZGV4LCAxKSk7XHJcbiAgICB9XHJcblxyXG4gICAgdmFsaWRhdGVQcm9Db25JbnB1dChzdHJpbmcsIHByb2NvbkNvdW50KSB7XHJcbiAgICAgICAgLy9pbnB1dCBpcyBub3QgYmxhbmsgb3Igd2hpdGVzcGFjZVxyXG4gICAgICAgIGlmKHN0cmluZy50cmltKCkpIHtcclxuICAgICAgICAgICAgaWYocHJvY29uQ291bnQgPj0gNCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHZhbGlkYXRlUmV2aWV3U3VibWl0KHJlZnMpIHtcclxuXHJcbiAgICAgICAgLy92YWxpZGF0ZSBubyBlbXB0eSBmaWVsZHMgXHJcbiAgICAgICAgbGV0IG1lc3NhZ2U7IFxyXG4gICAgICAgIHJlZnMuZm9yRWFjaChyZWYgPT4ge1xyXG4gICAgICAgICAgICBpZihyZWYubmFtZSA9PT0gJ1N0YXIgUmF0aW5nJykge1xyXG5cclxuICAgICAgICAgICAgICAgIGlmKHJlZi52YWx1ZSA8IDEgfHwgcmVmLnZhbHVlID4gNSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSdQbGVhc2UgaW5zZXJ0IGEgc3RhciByYXRpbmcnO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYoIXJlZi52YWx1ZSB8fCAhcmVmLnZhbHVlLnRyaW0oKSkge1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9ICdQbGVhc2UgZmlsbCBpbiB0aGUgJyArIHJlZi5uYW1lICsgJyBmaWVsZCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBnZXRBbGxSZXZpZXdzQnlQcm9kdWN0KGlkKSB7XHJcbiAgICAgICAgbGV0IHJldmlld3MgPSBhd2FpdCB0aGlzLnJldmlld0Rhby5nZXRBbGxSZXZpZXdzQnlQcm9kdWN0KGlkKTtcclxuXHJcbiAgICAgICAgLy9yZXZpZXcgYXV0aG9yIHZhbHVlIGlzIHNhdmVkIGFzIGVudW0gb2JqZWN0XHJcbiAgICAgICAgcmV2aWV3cy5tYXAoeCA9PiB4LnJldmlld0F1dGhvclZhbHVlID0geC5yZXZpZXdBdXRob3JWYWx1ZS5yZXZpZXdBdXRob3JWYWx1ZSk7XHJcbiAgICAgICAgcmV2aWV3cy5tYXAoeCA9PiB4LnJldmlld0F1dGhvclZhbHVlID0gdGhpcy5jYXRlZ29yeUxvZ2ljLnRvUmVhZGFibGVDYXRlZ29yeSh4LnJldmlld0F1dGhvclZhbHVlKSk7XHJcblxyXG4gICAgICAgIHJldHVybiByZXZpZXdzO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGFkZFJldmlldyhyZXZpZXcpIHtcclxuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5yZXZpZXdEYW8uYWRkUmV2aWV3KHJldmlldyk7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgbGlrZVJldmlldyh1c2VySWQsIHJldmlld0lkKSB7XHJcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMucmV2aWV3RGFvLmxpa2VSZXZpZXcodXNlcklkLCByZXZpZXdJZCk7XHJcbiAgICB9XHJcbn0gICJdfQ==
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlJldmlld0xvZ2ljLmpzIl0sIm5hbWVzIjpbIlJldmlld0xvZ2ljIiwiUmV2aWV3RGFvIiwiQ2F0ZWdvcnlMb2dpYyIsIml0ZW0iLCJhcnJheSIsImluZGV4Iiwic3RyaW5nIiwicHJvY29uQ291bnQiLCJyZWZzIiwicmVmIiwibWVzc2FnZSIsImlkIiwicmV2aWV3cyIsIngiLCJyZXZpZXciLCJ1c2VySWQiLCJyZXZpZXdJZCJdLCJtYXBwaW5ncyI6InNzbUJBQUEsR0FBQSxDQUFBLFVBQUEsMEJBQUEsc0JBQUEsQ0FBQSxPQUFBLENBQUEsc0JBQUEsQ0FBQSxDQUFBLENBQUEsQ0FFQSxHQUFBLENBQUEsY0FBQSwwQkFBQSxzQkFBQSxDQUFBLE9BQUEsQ0FBQSxvQkFBQSxDQUFBLENBQUEsQ0FBQSxDLG13RkFFcUJBLENBQUFBLFcsNEVBRWpCLFFBQUEsQ0FBQSxXQUFBLEVBQWMsbURBQUEsZUFBQSxDQUFBLElBQUEsQ0FBQSxXQUFBLENBQUEsQ0FBQSx5QkFDVixLQUFBLFNBQUEsQ0FBaUIsR0FBSUMsQ0FBQUEsVUFBQUEsQ0FBckIsU0FBcUJBLENBQUosRUFBakIsQ0FEVSx5QkFFVixLQUFBLGFBQUEsQ0FBcUIsR0FBSUMsQ0FBQUEsY0FBQUEsQ0FBekIsU0FBeUJBLENBQUosRUFBckIsQ0FDSCxDLCtGQUVVQyxJLENBQU1DLEssQ0FBTywwQkFFcEIsR0FBSUMsQ0FBQUEsS0FBSywyQkFBR0QsS0FBSyxDQUFMQSxPQUFBQSxDQUZRLElBRVJBLENBQUgsQ0FBVCxDQUVBO0FBSm9CLHlCQUtwQixNQUFPQSxDQUFBQSxLQUFLLENBQUxBLE1BQUFBLENBQWFBLEtBQUssQ0FBTEEsTUFBQUEsQ0FBQUEsS0FBQUEsQ0FBcEIsQ0FBb0JBLENBQWJBLENBQVAsQ0FDSCxDLGdFQUVtQkUsTSxDQUFRQyxXLENBQWEsbURBQ3JDO0FBQ0EsR0FBR0QsTUFBTSxDQUFULElBQUdBLEVBQUgsQ0FBa0IscURBQ2QsR0FBR0MsV0FBVyxFQUFkLENBQUEsQ0FBcUIscURBQ2pCLE1BQUEsTUFBQSxDQURKLENBQUEsSUFHSywyREFBQSxLQUFBLENBQUEsQ0FKVCxDQUFBLElBTUssMkRBQUEsTUFBQSxDQUFBLENBQ1IsQyxrRUFFb0JDLEksQ0FBTSwwQkFFdkI7QUFDQSxHQUFBLENBQUEsT0FBQSxDQUh1Qix5QkFJdkJBLElBQUksQ0FBSkEsT0FBQUEsQ0FBYSxTQUFBLEdBQUEsQ0FBTyxtREFDaEIsR0FBR0MsR0FBRyxDQUFIQSxJQUFBQSxHQUFILGFBQUEsQ0FBK0Isc0RBRTNCLEdBQUdBLDZCQUFBQSxHQUFHLENBQUhBLEtBQUFBLENBQUFBLENBQUFBLGdDQUFpQkEsR0FBRyxDQUFIQSxLQUFBQSxDQUFwQixDQUFHQSxDQUFILENBQW1DLHNEQUMvQkMsT0FBTyxDQUFQQSw2QkFBQUEsQ0FDSCxDQUZELGtDQUZKLENBQUEsSUFNSyx5REFBRyw4QkFBQ0QsR0FBRyxDQUFKLEtBQUEsZ0NBQWMsQ0FBQ0EsR0FBRyxDQUFIQSxLQUFBQSxDQUFsQixJQUFrQkEsRUFBZixDQUFILENBQW9DLHNEQUNyQ0MsT0FBTyxDQUFHLHNCQUF3QkQsR0FBRyxDQUEzQixJQUFBLENBQVZDLFFBQUFBLENBQ0gsQ0FGSSxrQ0FFSixDQVRMRixDQUFBQSxFQUp1Qix5QkFldkIsTUFBQSxDQUFBLE9BQUEsQ0FDSCxDLHdNQUU0QkcsRSx3WUFDTCxNQUFBLFNBQUEsQ0FBQSxzQkFBQSxDQUFBLEVBQUEsQyw2REFBaEJDLE8sY0FBQUEsQ0FFSjt5QkFDQUEsT0FBTyxDQUFQQSxHQUFBQSxDQUFZLFNBQUEsQ0FBQSxDQUFDLG1EQUFBLE1BQUlDLENBQUFBLENBQUMsQ0FBREEsaUJBQUFBLENBQXNCQSxDQUFDLENBQURBLGlCQUFBQSxDQUExQixpQkFBQSxDQUFiRCxDQUFBQSxFLHlCQUNBQSxPQUFPLENBQVBBLEdBQUFBLENBQVksU0FBQSxDQUFBLENBQUMsbURBQUEsTUFBSUMsQ0FBQUEsQ0FBQyxDQUFEQSxpQkFBQUEsQ0FBc0IsS0FBSSxDQUFKLGFBQUEsQ0FBQSxrQkFBQSxDQUFzQ0EsQ0FBQyxDQUFqRSxpQkFBMEIsQ0FBMUIsQ0FBYkQsQ0FBQUEsRSx5REFFT0EsTyx1Z0JBR0tFLE0sdVZBQ0MsTUFBQSxTQUFBLENBQUEsU0FBQSxDQUFBLE1BQUEsQyxpbEJBR0FDLE0sQ0FBUUMsUSx1VkFDUixNQUFBLFNBQUEsQ0FBQSxVQUFBLENBQUEsTUFBQSxDQUFBLFFBQUEsQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZXZpZXdEYW8gZnJvbSAnQC9kYXRhL1Jldmlld0Rhby5qcyc7XHJcblxyXG5pbXBvcnQgQ2F0ZWdvcnlMb2dpYyBmcm9tICdAL2xvZ2ljL0NhdGVnb3J5TG9naWMuanMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmV2aWV3TG9naWMge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMucmV2aWV3RGFvID0gbmV3IFJldmlld0RhbygpO1xyXG4gICAgICAgIHRoaXMuY2F0ZWdvcnlMb2dpYyA9IG5ldyBDYXRlZ29yeUxvZ2ljKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVtb3ZlSXRlbShpdGVtLCBhcnJheSkge1xyXG5cclxuICAgICAgICB2YXIgaW5kZXggPSBhcnJheS5pbmRleE9mKGl0ZW0pO1xyXG5cclxuICAgICAgICAvL3JlbW92ZSBmaXJzdCBvY2N1cmFuY2VcclxuICAgICAgICByZXR1cm4gYXJyYXkuc3BsaWNlKGFycmF5LnNwbGljZShpbmRleCwgMSkpO1xyXG4gICAgfVxyXG5cclxuICAgIHZhbGlkYXRlUHJvQ29uSW5wdXQoc3RyaW5nLCBwcm9jb25Db3VudCkge1xyXG4gICAgICAgIC8vaW5wdXQgaXMgbm90IGJsYW5rIG9yIHdoaXRlc3BhY2VcclxuICAgICAgICBpZihzdHJpbmcudHJpbSgpKSB7XHJcbiAgICAgICAgICAgIGlmKHByb2NvbkNvdW50ID49IDQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICB2YWxpZGF0ZVJldmlld1N1Ym1pdChyZWZzKSB7XHJcblxyXG4gICAgICAgIC8vdmFsaWRhdGUgbm8gZW1wdHkgZmllbGRzIFxyXG4gICAgICAgIGxldCBtZXNzYWdlOyBcclxuICAgICAgICByZWZzLmZvckVhY2gocmVmID0+IHtcclxuICAgICAgICAgICAgaWYocmVmLm5hbWUgPT09ICdTdGFyIFJhdGluZycpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBpZihyZWYudmFsdWUgPCAxIHx8IHJlZi52YWx1ZSA+IDUpIHtcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0nUGxlYXNlIGluc2VydCBhIHN0YXIgcmF0aW5nJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmKCFyZWYudmFsdWUgfHwgIXJlZi52YWx1ZS50cmltKCkpIHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSAnUGxlYXNlIGZpbGwgaW4gdGhlICcgKyByZWYubmFtZSArICcgZmllbGQnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgZ2V0QWxsUmV2aWV3c0J5UHJvZHVjdChpZCkge1xyXG4gICAgICAgIGxldCByZXZpZXdzID0gYXdhaXQgdGhpcy5yZXZpZXdEYW8uZ2V0QWxsUmV2aWV3c0J5UHJvZHVjdChpZCk7XHJcblxyXG4gICAgICAgIC8vcmV2aWV3IGF1dGhvciB2YWx1ZSBpcyBzYXZlZCBhcyBlbnVtIG9iamVjdFxyXG4gICAgICAgIHJldmlld3MubWFwKHggPT4geC5yZXZpZXdBdXRob3JWYWx1ZSA9IHgucmV2aWV3QXV0aG9yVmFsdWUucmV2aWV3QXV0aG9yVmFsdWUpO1xyXG4gICAgICAgIHJldmlld3MubWFwKHggPT4geC5yZXZpZXdBdXRob3JWYWx1ZSA9IHRoaXMuY2F0ZWdvcnlMb2dpYy50b1JlYWRhYmxlQ2F0ZWdvcnkoeC5yZXZpZXdBdXRob3JWYWx1ZSkpO1xyXG5cclxuICAgICAgICByZXR1cm4gcmV2aWV3cztcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBhZGRSZXZpZXcocmV2aWV3KSB7XHJcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMucmV2aWV3RGFvLmFkZFJldmlldyhyZXZpZXcpO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGxpa2VSZXZpZXcodXNlcklkLCByZXZpZXdJZCkge1xyXG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLnJldmlld0Rhby5saWtlUmV2aWV3KHVzZXJJZCwgcmV2aWV3SWQpO1xyXG4gICAgfVxyXG59ICAiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcVGplcmtfMlxcRGVza3RvcFxcUzQgLSBWdWUgRnJvbnRFbmRcXGxvZ2ljXFwifQ==