function cov_177yz7u0bk(){var path="C:\\Users\\Tjerk_2\\Desktop\\S4 - Vue FrontEnd\\logic\\ReviewSummaryLogic.js";var hash="8e5125d01b991e26c9a9464ffa612a3e1bb57235";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\Tjerk_2\\Desktop\\S4 - Vue FrontEnd\\logic\\ReviewSummaryLogic.js",statementMap:{"0":{start:{line:1,column:26},end:{line:1,column:67}},"1":{start:{line:5,column:22},end:{line:5,column:23}},"2":{start:{line:6,column:4},end:{line:8,column:7}},"3":{start:{line:7,column:8},end:{line:7,column:41}},"4":{start:{line:9,column:4},end:{line:9,column:53}},"5":{start:{line:13,column:24},end:{line:13,column:26}},"6":{start:{line:14,column:4},end:{line:18,column:5}},"7":{start:{line:14,column:16},end:{line:14,column:25}},"8":{start:{line:16,column:20},end:{line:16,column:65}},"9":{start:{line:16,column:40},end:{line:16,column:57}},"10":{start:{line:17,column:8},end:{line:17,column:60}},"11":{start:{line:19,column:4},end:{line:19,column:75}},"12":{start:{line:20,column:4},end:{line:20,column:25}},"13":{start:{line:26,column:4},end:{line:29,column:7}},"14":{start:{line:27,column:25},end:{line:27,column:73}},"15":{start:{line:28,column:8},end:{line:28,column:50}},"16":{start:{line:30,column:4},end:{line:30,column:25}},"17":{start:{line:33,column:0},end:{line:36,column:1}}},fnMap:{"0":{name:"getAvgRating",decl:{start:{line:3,column:9},end:{line:3,column:21}},loc:{start:{line:3,column:31},end:{line:10,column:1}},line:3},"1":{name:"(anonymous_1)",decl:{start:{line:6,column:20},end:{line:6,column:21}},loc:{start:{line:6,column:30},end:{line:8,column:5}},line:6},"2":{name:"calculatePercentages",decl:{start:{line:12,column:9},end:{line:12,column:29}},loc:{start:{line:12,column:63},end:{line:21,column:1}},line:12},"3":{name:"(anonymous_3)",decl:{start:{line:16,column:35},end:{line:16,column:36}},loc:{start:{line:16,column:40},end:{line:16,column:57}},line:16},"4":{name:"calculateRatingPercentages",decl:{start:{line:24,column:9},end:{line:24,column:35}},loc:{start:{line:24,column:64},end:{line:31,column:1}},line:24},"5":{name:"(anonymous_5)",decl:{start:{line:26,column:26},end:{line:26,column:27}},loc:{start:{line:26,column:47},end:{line:29,column:5}},line:26}},branchMap:{},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0},b:{},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"8e5125d01b991e26c9a9464ffa612a3e1bb57235"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];cov_177yz7u0bk=function(){return actualCoverage;};return actualCoverage;}cov_177yz7u0bk();const ReviewSummaryItem=(cov_177yz7u0bk().s[0]++,require('../models/ReviewSummaryItem.js'));function getAvgRating(reviews){cov_177yz7u0bk().f[0]++;let totalRating=(cov_177yz7u0bk().s[1]++,0);cov_177yz7u0bk().s[2]++;reviews.forEach(review=>{cov_177yz7u0bk().f[1]++;cov_177yz7u0bk().s[3]++;totalRating+=review.starRating;});cov_177yz7u0bk().s[4]++;return(totalRating/reviews.length).toFixed(1);}function calculatePercentages(maxRating,reviews,reviewCount){cov_177yz7u0bk().f[2]++;let reviewSummary=(cov_177yz7u0bk().s[5]++,[]);cov_177yz7u0bk().s[6]++;for(let i=(cov_177yz7u0bk().s[7]++,maxRating);i>0;i--){let count=(cov_177yz7u0bk().s[8]++,reviews.filter(x=>{cov_177yz7u0bk().f[3]++;cov_177yz7u0bk().s[9]++;return x.starRating==i;}).length);cov_177yz7u0bk().s[10]++;reviewSummary.push(new ReviewSummaryItem(i,count));}cov_177yz7u0bk().s[11]++;reviewSummary=calculateRatingPercentages(reviewSummary,reviewCount);cov_177yz7u0bk().s[12]++;return reviewSummary;}//private
function calculateRatingPercentages(reviewSummary,reviewCount){cov_177yz7u0bk().f[4]++;cov_177yz7u0bk().s[13]++;reviewSummary.forEach(ReviewSummaryItem=>{cov_177yz7u0bk().f[5]++;let percentage=(cov_177yz7u0bk().s[14]++,ReviewSummaryItem.quantity/reviewCount*100);cov_177yz7u0bk().s[15]++;ReviewSummaryItem.percentage=percentage;});cov_177yz7u0bk().s[16]++;return reviewSummary;}cov_177yz7u0bk().s[17]++;module.exports={getAvgRating,calculatePercentages};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlJldmlld1N1bW1hcnlMb2dpYy5qcyJdLCJuYW1lcyI6WyJSZXZpZXdTdW1tYXJ5SXRlbSIsInJlcXVpcmUiLCJnZXRBdmdSYXRpbmciLCJyZXZpZXdzIiwidG90YWxSYXRpbmciLCJmb3JFYWNoIiwicmV2aWV3Iiwic3RhclJhdGluZyIsImxlbmd0aCIsInRvRml4ZWQiLCJjYWxjdWxhdGVQZXJjZW50YWdlcyIsIm1heFJhdGluZyIsInJldmlld0NvdW50IiwicmV2aWV3U3VtbWFyeSIsImkiLCJjb3VudCIsImZpbHRlciIsIngiLCJwdXNoIiwiY2FsY3VsYXRlUmF0aW5nUGVyY2VudGFnZXMiLCJwZXJjZW50YWdlIiwicXVhbnRpdHkiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOHNGQUFBLEtBQU1BLENBQUFBLGlCQUFpQiwwQkFBR0MsT0FBTyxDQUFDLGdDQUFELENBQVYsQ0FBdkIsQ0FFQSxRQUFTQyxDQUFBQSxZQUFULENBQXNCQyxPQUF0QixDQUErQix5QkFFM0IsR0FBSUMsQ0FBQUEsV0FBVywwQkFBRyxDQUFILENBQWYsQ0FGMkIsd0JBRzNCRCxPQUFPLENBQUNFLE9BQVIsQ0FBZ0JDLE1BQU0sRUFBSSxpREFDdEJGLFdBQVcsRUFBSUUsTUFBTSxDQUFDQyxVQUF0QixDQUNILENBRkQsRUFIMkIsd0JBTTNCLE1BQU8sQ0FBQ0gsV0FBVyxDQUFHRCxPQUFPLENBQUNLLE1BQXZCLEVBQStCQyxPQUEvQixDQUF1QyxDQUF2QyxDQUFQLENBQ0gsQ0FFRCxRQUFTQyxDQUFBQSxvQkFBVCxDQUE4QkMsU0FBOUIsQ0FBeUNSLE9BQXpDLENBQWtEUyxXQUFsRCxDQUErRCx5QkFDM0QsR0FBSUMsQ0FBQUEsYUFBYSwwQkFBRyxFQUFILENBQWpCLENBRDJELHdCQUUzRCxJQUFJLEdBQUlDLENBQUFBLENBQUMsMEJBQUdILFNBQUgsQ0FBVCxDQUF1QkcsQ0FBQyxDQUFHLENBQTNCLENBQThCQSxDQUFDLEVBQS9CLENBQW1DLENBRS9CLEdBQUlDLENBQUFBLEtBQUssMEJBQUdaLE9BQU8sQ0FBQ2EsTUFBUixDQUFlQyxDQUFDLEVBQUksdURBQUFBLENBQUFBLENBQUMsQ0FBQ1YsVUFBRixFQUFnQk8sQ0FBaEIsQ0FBaUIsQ0FBckMsRUFBdUNOLE1BQTFDLENBQVQsQ0FGK0IseUJBRy9CSyxhQUFhLENBQUNLLElBQWQsQ0FBbUIsR0FBSWxCLENBQUFBLGlCQUFKLENBQXNCYyxDQUF0QixDQUF5QkMsS0FBekIsQ0FBbkIsRUFDSCxDQU4wRCx5QkFPM0RGLGFBQWEsQ0FBR00sMEJBQTBCLENBQUNOLGFBQUQsQ0FBZ0JELFdBQWhCLENBQTFDLENBUDJELHlCQVEzRCxNQUFPQyxDQUFBQSxhQUFQLENBQ0gsQ0FFRDtBQUNBLFFBQVNNLENBQUFBLDBCQUFULENBQW9DTixhQUFwQyxDQUFtREQsV0FBbkQsQ0FBZ0Usa0RBRTVEQyxhQUFhLENBQUNSLE9BQWQsQ0FBc0JMLGlCQUFpQixFQUFJLHlCQUN2QyxHQUFJb0IsQ0FBQUEsVUFBVSwyQkFBSXBCLGlCQUFpQixDQUFDcUIsUUFBbEIsQ0FBNkJULFdBQTlCLENBQTZDLEdBQWhELENBQWQsQ0FEdUMseUJBRXZDWixpQkFBaUIsQ0FBQ29CLFVBQWxCLENBQStCQSxVQUEvQixDQUNILENBSEQsRUFGNEQseUJBTTVELE1BQU9QLENBQUFBLGFBQVAsQ0FDSCxDLHlCQUVEUyxNQUFNLENBQUNDLE9BQVAsQ0FBaUIsQ0FDYnJCLFlBRGEsQ0FFYlEsb0JBRmEsQ0FBakIiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBSZXZpZXdTdW1tYXJ5SXRlbSA9IHJlcXVpcmUoJy4uL21vZGVscy9SZXZpZXdTdW1tYXJ5SXRlbS5qcycpO1xyXG5cclxuZnVuY3Rpb24gZ2V0QXZnUmF0aW5nKHJldmlld3MpIHtcclxuXHJcbiAgICBsZXQgdG90YWxSYXRpbmcgPSAwO1xyXG4gICAgcmV2aWV3cy5mb3JFYWNoKHJldmlldyA9PiB7XHJcbiAgICAgICAgdG90YWxSYXRpbmcgKz0gcmV2aWV3LnN0YXJSYXRpbmc7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiAodG90YWxSYXRpbmcgLyByZXZpZXdzLmxlbmd0aCkudG9GaXhlZCgxKTtcclxufVxyXG5cclxuZnVuY3Rpb24gY2FsY3VsYXRlUGVyY2VudGFnZXMobWF4UmF0aW5nLCByZXZpZXdzLCByZXZpZXdDb3VudCkge1xyXG4gICAgbGV0IHJldmlld1N1bW1hcnkgPSBbXTtcclxuICAgIGZvcihsZXQgaSA9IG1heFJhdGluZzsgaSA+IDA7IGktLSkge1xyXG5cclxuICAgICAgICBsZXQgY291bnQgPSByZXZpZXdzLmZpbHRlcih4ID0+IHguc3RhclJhdGluZyA9PSBpKS5sZW5ndGg7XHJcbiAgICAgICAgcmV2aWV3U3VtbWFyeS5wdXNoKG5ldyBSZXZpZXdTdW1tYXJ5SXRlbShpLCBjb3VudCkpO1xyXG4gICAgfVxyXG4gICAgcmV2aWV3U3VtbWFyeSA9IGNhbGN1bGF0ZVJhdGluZ1BlcmNlbnRhZ2VzKHJldmlld1N1bW1hcnksIHJldmlld0NvdW50KTtcclxuICAgIHJldHVybiByZXZpZXdTdW1tYXJ5O1xyXG59XHJcblxyXG4vL3ByaXZhdGVcclxuZnVuY3Rpb24gY2FsY3VsYXRlUmF0aW5nUGVyY2VudGFnZXMocmV2aWV3U3VtbWFyeSwgcmV2aWV3Q291bnQpIHtcclxuXHJcbiAgICByZXZpZXdTdW1tYXJ5LmZvckVhY2goUmV2aWV3U3VtbWFyeUl0ZW0gPT4ge1xyXG4gICAgICAgIGxldCBwZXJjZW50YWdlID0gKFJldmlld1N1bW1hcnlJdGVtLnF1YW50aXR5IC8gcmV2aWV3Q291bnQpICogMTAwO1xyXG4gICAgICAgIFJldmlld1N1bW1hcnlJdGVtLnBlcmNlbnRhZ2UgPSBwZXJjZW50YWdlO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gcmV2aWV3U3VtbWFyeTtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICBnZXRBdmdSYXRpbmcsXHJcbiAgICBjYWxjdWxhdGVQZXJjZW50YWdlcyxcclxufSJdfQ==